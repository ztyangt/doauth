import{aA as an,aB as Kt,aC as sn,aD as nl,aE as rn,aF as ol,aG as al,aH as un,aI as dn,M as Il,aJ as cn,a as Be,c as E,aK as at,aL as ae,G,h as n,aM as pn,J as dt,_ as ue,d as W,P as le,a2 as ze,aN as Qt,ai as Pl,H as x,R as Ee,X as ct,o as w,f as R,r as z,g as D,t as Y,n as T,aO as J,z as N,I as pt,aP as _l,p as Q,u as ft,O as Vl,aQ as Ue,aR as Rl,aS as Al,aT as Xt,aU as he,aV as Fe,ag as lt,aW as Dt,aq as st,aX as sl,U as se,aY as we,aZ as fn,a_ as vn,af as Ne,a9 as Jt,a$ as mn,b0 as Fl,E as oe,b1 as Dl,b2 as gn,i as it,b3 as Ml,b4 as hn,b5 as yn,Q as Yt,b6 as bn,b7 as me,ab as Cn,j as I,w as $,k as F,Y as il,at as De,au as nt,m as P,a4 as ee,b8 as Sn,W as qt,l as ke,a0 as vt,al as Bl,b as Oe,s as K,b9 as wn,ba as Ul,aj as Nl,ak as Kl,v as ot,bb as zt,bc as On,bd as We,B as Tn,be as $n,bf as rl,bg as mt,bh as ql,ap as Wt,bi as j,bj as En,bk as kn,bl as Ln,bm as In,bn as Pn,bo as _n,bp as Vn,N as Rn,as as An,V as ul,a3 as Ke,bq as qe,a6 as rt,br as zl,an as Fn,ao as Dn,ae as Zt,bs as Wl,a5 as Me,aa as Hl,a7 as Mn,bt as Bn,ac as Un,ad as Nn,bu as Kn}from"./index-e5bd872d.js";import{E as xt}from"./card-68b7cbe3.js";import{b as qn,U as dl,g as cl,c as pl,i as fl,S as Mt,d as zn,E as jl,a as Gl}from"./form-item-e488bd26.js";import{u as Wn}from"./common-08e4a7b5.js";import{E as Hn,t as jn}from"./tag-0b32c03c.js";var Gn=/\s/;function Qn(e){for(var t=e.length;t--&&Gn.test(e.charAt(t)););return t}var Xn=/^\s+/;function Jn(e){return e&&e.slice(0,Qn(e)+1).replace(Xn,"")}var vl=0/0,Yn=/^[-+]0x[0-9a-f]+$/i,Zn=/^0b[01]+$/i,xn=/^0o[0-7]+$/i,eo=parseInt;function ml(e){if(typeof e=="number")return e;if(an(e))return vl;if(Kt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Kt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Jn(e);var l=Zn.test(e);return l||xn.test(e)?eo(e.slice(2),l?2:8):Yn.test(e)?vl:+e}var to=1,lo=4;function gl(e){return qn(e,to|lo)}var no="__lodash_hash_undefined__";function oo(e){return this.__data__.set(e,no),this}function ao(e){return this.__data__.has(e)}function ut(e){var t=-1,l=e==null?0:e.length;for(this.__data__=new sn;++t<l;)this.add(e[t])}ut.prototype.add=ut.prototype.push=oo;ut.prototype.has=ao;function so(e,t){for(var l=-1,o=e==null?0:e.length;++l<o;)if(t(e[l],l,e))return!0;return!1}function io(e,t){return e.has(t)}var ro=1,uo=2;function Ql(e,t,l,o,p,r){var u=l&ro,i=e.length,v=t.length;if(i!=v&&!(u&&v>i))return!1;var g=r.get(e),S=r.get(t);if(g&&S)return g==t&&S==e;var y=-1,c=!0,m=l&uo?new ut:void 0;for(r.set(e,t),r.set(t,e);++y<i;){var d=e[y],s=t[y];if(o)var C=u?o(s,d,y,t,e,r):o(d,s,y,e,t,r);if(C!==void 0){if(C)continue;c=!1;break}if(m){if(!so(t,function(b,O){if(!io(m,O)&&(d===b||p(d,b,l,o,r)))return m.push(O)})){c=!1;break}}else if(!(d===s||p(d,s,l,o,r))){c=!1;break}}return r.delete(e),r.delete(t),c}function co(e){var t=-1,l=Array(e.size);return e.forEach(function(o,p){l[++t]=[p,o]}),l}function po(e){var t=-1,l=Array(e.size);return e.forEach(function(o){l[++t]=o}),l}var fo=1,vo=2,mo="[object Boolean]",go="[object Date]",ho="[object Error]",yo="[object Map]",bo="[object Number]",Co="[object RegExp]",So="[object Set]",wo="[object String]",Oo="[object Symbol]",To="[object ArrayBuffer]",$o="[object DataView]",hl=nl?nl.prototype:void 0,Bt=hl?hl.valueOf:void 0;function Eo(e,t,l,o,p,r,u){switch(l){case $o:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case To:return!(e.byteLength!=t.byteLength||!r(new dl(e),new dl(t)));case mo:case go:case bo:return rn(+e,+t);case ho:return e.name==t.name&&e.message==t.message;case Co:case wo:return e==t+"";case yo:var i=co;case So:var v=o&fo;if(i||(i=po),e.size!=t.size&&!v)return!1;var g=u.get(e);if(g)return g==t;o|=vo,u.set(e,t);var S=Ql(i(e),i(t),o,p,r,u);return u.delete(e),S;case Oo:if(Bt)return Bt.call(e)==Bt.call(t)}return!1}var ko=1,Lo=Object.prototype,Io=Lo.hasOwnProperty;function Po(e,t,l,o,p,r){var u=l&ko,i=cl(e),v=i.length,g=cl(t),S=g.length;if(v!=S&&!u)return!1;for(var y=v;y--;){var c=i[y];if(!(u?c in t:Io.call(t,c)))return!1}var m=r.get(e),d=r.get(t);if(m&&d)return m==t&&d==e;var s=!0;r.set(e,t),r.set(t,e);for(var C=u;++y<v;){c=i[y];var b=e[c],O=t[c];if(o)var h=u?o(O,b,c,t,e,r):o(b,O,c,e,t,r);if(!(h===void 0?b===O||p(b,O,l,o,r):h)){s=!1;break}C||(C=c=="constructor")}if(s&&!C){var A=e.constructor,M=t.constructor;A!=M&&"constructor"in e&&"constructor"in t&&!(typeof A=="function"&&A instanceof A&&typeof M=="function"&&M instanceof M)&&(s=!1)}return r.delete(e),r.delete(t),s}var _o=1,yl="[object Arguments]",bl="[object Array]",tt="[object Object]",Vo=Object.prototype,Cl=Vo.hasOwnProperty;function Ro(e,t,l,o,p,r){var u=ol(e),i=ol(t),v=u?bl:pl(e),g=i?bl:pl(t);v=v==yl?tt:v,g=g==yl?tt:g;var S=v==tt,y=g==tt,c=v==g;if(c&&fl(e)){if(!fl(t))return!1;u=!0,S=!1}if(c&&!S)return r||(r=new Mt),u||zn(e)?Ql(e,t,l,o,p,r):Eo(e,t,v,l,o,p,r);if(!(l&_o)){var m=S&&Cl.call(e,"__wrapped__"),d=y&&Cl.call(t,"__wrapped__");if(m||d){var s=m?e.value():e,C=d?t.value():t;return r||(r=new Mt),p(s,C,l,o,r)}}return c?(r||(r=new Mt),Po(e,t,l,o,p,r)):!1}function Xl(e,t,l,o,p){return e===t?!0:e==null||t==null||!al(e)&&!al(t)?e!==e&&t!==t:Ro(e,t,l,o,Xl,p)}var Ao=function(){return un.Date.now()};const Ut=Ao;var Fo="Expected a function",Do=Math.max,Mo=Math.min;function Sl(e,t,l){var o,p,r,u,i,v,g=0,S=!1,y=!1,c=!0;if(typeof e!="function")throw new TypeError(Fo);t=ml(t)||0,Kt(l)&&(S=!!l.leading,y="maxWait"in l,r=y?Do(ml(l.maxWait)||0,t):r,c="trailing"in l?!!l.trailing:c);function m(_){var B=o,L=p;return o=p=void 0,g=_,u=e.apply(L,B),u}function d(_){return g=_,i=setTimeout(b,t),S?m(_):u}function s(_){var B=_-v,L=_-g,U=t-B;return y?Mo(U,r-L):U}function C(_){var B=_-v,L=_-g;return v===void 0||B>=t||B<0||y&&L>=r}function b(){var _=Ut();if(C(_))return O(_);i=setTimeout(b,s(_))}function O(_){return i=void 0,c&&o?m(_):(o=p=void 0,u)}function h(){i!==void 0&&clearTimeout(i),g=0,o=v=p=i=void 0}function A(){return i===void 0?u:O(Ut())}function M(){var _=Ut(),B=C(_);if(o=arguments,p=this,v=_,B){if(i===void 0)return d(v);if(y)return clearTimeout(i),i=setTimeout(b,t),m(v)}return i===void 0&&(i=setTimeout(b,t)),u}return M.cancel=h,M.flush=A,M}function Ht(e,t){return Xl(e,t)}const Bo=e=>dn[e||"default"],Uo=e=>({focus:()=>{var t,l;(l=(t=e.value)==null?void 0:t.focus)==null||l.call(t)}}),ge=new Map;let wl;Il&&(document.addEventListener("mousedown",e=>wl=e),document.addEventListener("mouseup",e=>{for(const t of ge.values())for(const{documentHandler:l}of t)l(e,wl)}));function Ol(e,t){let l=[];return Array.isArray(t.arg)?l=t.arg:cn(t.arg)&&l.push(t.arg),function(o,p){const r=t.instance.popperRef,u=o.target,i=p==null?void 0:p.target,v=!t||!t.instance,g=!u||!i,S=e.contains(u)||e.contains(i),y=e===u,c=l.length&&l.some(d=>d==null?void 0:d.contains(u))||l.length&&l.includes(i),m=r&&(r.contains(u)||r.contains(i));v||g||S||y||c||m||t.value(o,p)}}const No={beforeMount(e,t){ge.has(e)||ge.set(e,[]),ge.get(e).push({documentHandler:Ol(e,t),bindingFn:t.value})},updated(e,t){ge.has(e)||ge.set(e,[]);const l=ge.get(e),o=l.findIndex(r=>r.bindingFn===t.oldValue),p={documentHandler:Ol(e,t),bindingFn:t.value};o>=0?l.splice(o,1,p):l.push(p)},unmounted(e){ge.delete(e)}},Jl=Symbol("ElSelectGroup"),gt=Symbol("ElSelect");function Ko(e,t){const l=Be(gt),o=Be(Jl,{disabled:!1}),p=E(()=>Object.prototype.toString.call(e.value).toLowerCase()==="[object object]"),r=E(()=>l.props.multiple?y(l.props.modelValue,e.value):c(e.value,l.props.modelValue)),u=E(()=>{if(l.props.multiple){const s=l.props.modelValue||[];return!r.value&&s.length>=l.props.multipleLimit&&l.props.multipleLimit>0}else return!1}),i=E(()=>e.label||(p.value?"":e.value)),v=E(()=>e.value||e.label||""),g=E(()=>e.disabled||t.groupDisabled||u.value),S=dt(),y=(s=[],C)=>{if(p.value){const b=l.props.valueKey;return s&&s.some(O=>at(ae(O,b))===ae(C,b))}else return s&&s.includes(C)},c=(s,C)=>{if(p.value){const{valueKey:b}=l.props;return ae(s,b)===ae(C,b)}else return s===C},m=()=>{!e.disabled&&!o.disabled&&(l.hoverIndex=l.optionsArray.indexOf(S.proxy))};G(()=>i.value,()=>{!e.created&&!l.props.remote&&l.setSelected()}),G(()=>e.value,(s,C)=>{const{remote:b,valueKey:O}=l.props;if(Object.is(s,C)||(l.onOptionDestroy(C,S.proxy),l.onOptionCreate(S.proxy)),!e.created&&!b){if(O&&typeof s=="object"&&typeof C=="object"&&s[O]===C[O])return;l.setSelected()}}),G(()=>o.disabled,()=>{t.groupDisabled=o.disabled},{immediate:!0});const{queryChange:d}=at(l);return G(d,s=>{const{query:C}=n(s),b=new RegExp(pn(C),"i");t.visible=b.test(i.value)||e.created,t.visible||l.filteredOptionsCount--},{immediate:!0}),{select:l,currentLabel:i,currentValue:v,itemSelected:r,isDisabled:g,hoverItem:m}}const qo=W({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(e){const t=le("select"),l=E(()=>[t.be("dropdown","item"),t.is("disabled",n(u)),{selected:n(r),hover:n(S)}]),o=ze({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:p,itemSelected:r,isDisabled:u,select:i,hoverItem:v}=Ko(e,o),{visible:g,hover:S}=Qt(o),y=dt().proxy;i.onOptionCreate(y),Pl(()=>{const m=y.value,{selected:d}=i,C=(i.props.multiple?d:[d]).some(b=>b.value===y.value);x(()=>{i.cachedOptions.get(m)===y&&!C&&i.cachedOptions.delete(m)}),i.onOptionDestroy(m,y)});function c(){e.disabled!==!0&&o.groupDisabled!==!0&&i.handleOptionSelect(y)}return{ns:t,containerKls:l,currentLabel:p,itemSelected:r,isDisabled:u,select:i,hoverItem:v,visible:g,hover:S,selectOptionClick:c,states:o}}});function zo(e,t,l,o,p,r){return Ee((w(),R("li",{class:T(e.containerKls),onMouseenter:t[0]||(t[0]=(...u)=>e.hoverItem&&e.hoverItem(...u)),onClick:t[1]||(t[1]=J((...u)=>e.selectOptionClick&&e.selectOptionClick(...u),["stop"]))},[z(e.$slots,"default",{},()=>[D("span",null,Y(e.currentLabel),1)])],34)),[[ct,e.visible]])}var el=ue(qo,[["render",zo],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const Wo=W({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=Be(gt),t=le("select"),l=E(()=>e.props.popperClass),o=E(()=>e.props.multiple),p=E(()=>e.props.fitInputWidth),r=N("");function u(){var i;r.value=`${(i=e.selectWrapper)==null?void 0:i.offsetWidth}px`}return pt(()=>{u(),_l(e.selectWrapper,u)}),{ns:t,minWidth:r,popperClass:l,isMultiple:o,isFitInputWidth:p}}});function Ho(e,t,l,o,p,r){return w(),R("div",{class:T([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:Q({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[z(e.$slots,"default")],6)}var jo=ue(Wo,[["render",Ho],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function Go(e){const{t}=ft();return ze({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:t("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,prefixWidth:11,mouseEnter:!1})}let Nt=!1;const Qo=(e,t,l)=>{const{t:o}=ft(),p=le("select");Vl({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},E(()=>e.suffixTransition===!1));const r=N(null),u=N(null),i=N(null),v=N(null),g=N(null),S=N(null),y=N(null),c=N(null),m=N(-1),d=Ue({query:""}),s=Ue(""),C=N([]);let b=0;const{form:O,formItem:h}=Rl(),A=E(()=>!e.filterable||e.multiple||!t.visible),M=E(()=>e.disabled||(O==null?void 0:O.disabled)),_=E(()=>{const a=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:e.modelValue!==void 0&&e.modelValue!==null&&e.modelValue!=="";return e.clearable&&!M.value&&t.inputHovering&&a}),B=E(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),L=E(()=>p.is("reverse",B.value&&t.visible&&e.suffixTransition)),U=E(()=>e.remote?300:0),Z=E(()=>e.loading?e.loadingText||o("el.select.loading"):e.remote&&t.query===""&&t.options.size===0?!1:e.filterable&&t.query&&t.options.size>0&&t.filteredOptionsCount===0?e.noMatchText||o("el.select.noMatch"):t.options.size===0?e.noDataText||o("el.select.noData"):null),q=E(()=>{const a=Array.from(t.options.values()),f=[];return C.value.forEach(k=>{const V=a.findIndex(H=>H.currentLabel===k);V>-1&&f.push(a[V])}),f.length?f:a}),ye=E(()=>Array.from(t.cachedOptions.values())),de=E(()=>{const a=q.value.filter(f=>!f.created).some(f=>f.currentLabel===t.query);return e.filterable&&e.allowCreate&&t.query!==""&&!a}),be=Al(),ht=E(()=>["small"].includes(be.value)?"small":"default"),yt=E({get(){return t.visible&&Z.value!==!1},set(a){t.visible=a}});G([()=>M.value,()=>be.value,()=>O==null?void 0:O.size],()=>{x(()=>{ie()})}),G(()=>e.placeholder,a=>{t.cachedPlaceHolder=t.currentPlaceholder=a,e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(t.currentPlaceholder="")}),G(()=>e.modelValue,(a,f)=>{e.multiple&&(ie(),a&&a.length>0||u.value&&t.query!==""?t.currentPlaceholder="":t.currentPlaceholder=t.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(t.query="",fe(t.query))),Le(),e.filterable&&!e.multiple&&(t.inputLength=20),!Ht(a,f)&&e.validateEvent&&(h==null||h.validate("change").catch(k=>Xt()))},{flush:"post",deep:!0}),G(()=>t.visible,a=>{var f,k,V,H,X;a?((k=(f=v.value)==null?void 0:f.updatePopper)==null||k.call(f),e.filterable&&(t.filteredOptionsCount=t.optionsCount,t.query=e.remote?"":t.selectedLabel,(H=(V=i.value)==null?void 0:V.focus)==null||H.call(V),e.multiple?(X=u.value)==null||X.focus():t.selectedLabel&&(t.currentPlaceholder=`${t.selectedLabel}`,t.selectedLabel=""),fe(t.query),!e.multiple&&!e.remote&&(d.value.query="",Fe(d),Fe(s)))):(e.filterable&&(he(e.filterMethod)&&e.filterMethod(""),he(e.remoteMethod)&&e.remoteMethod("")),u.value&&u.value.blur(),t.query="",t.previousQuery=null,t.selectedLabel="",t.inputLength=20,t.menuVisibleOnFocus=!1,bt(),x(()=>{u.value&&u.value.value===""&&t.selected.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)}),e.multiple||(t.selected&&(e.filterable&&e.allowCreate&&t.createdSelected&&t.createdLabel?t.selectedLabel=t.createdLabel:t.selectedLabel=t.selected.currentLabel,e.filterable&&(t.query=t.selectedLabel)),e.filterable&&(t.currentPlaceholder=t.cachedPlaceHolder))),l.emit("visible-change",a)}),G(()=>t.options.entries(),()=>{var a,f,k;if(!Il)return;(f=(a=v.value)==null?void 0:a.updatePopper)==null||f.call(a),e.multiple&&ie();const V=((k=y.value)==null?void 0:k.querySelectorAll("input"))||[];Array.from(V).includes(document.activeElement)||Le(),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&je()},{flush:"post"}),G(()=>t.hoverIndex,a=>{lt(a)&&a>-1?m.value=q.value[a]||{}:m.value={},q.value.forEach(f=>{f.hover=m.value===f})});const ie=()=>{x(()=>{var a,f;if(!r.value)return;const k=r.value.$el.querySelector("input");b=b||(k.clientHeight>0?k.clientHeight+2:0);const V=S.value,H=Bo(be.value||(O==null?void 0:O.size)),X=be.value||H===b||b<=0?H:b;!(k.offsetParent===null)&&(k.style.height=`${(t.selected.length===0?X:Math.max(V?V.clientHeight+(V.clientHeight>X?6:0):0,X))-2}px`),t.visible&&Z.value!==!1&&((f=(a=v.value)==null?void 0:a.updatePopper)==null||f.call(a))})},fe=async a=>{if(!(t.previousQuery===a||t.isOnComposition)){if(t.previousQuery===null&&(he(e.filterMethod)||he(e.remoteMethod))){t.previousQuery=a;return}t.previousQuery=a,x(()=>{var f,k;t.visible&&((k=(f=v.value)==null?void 0:f.updatePopper)==null||k.call(f))}),t.hoverIndex=-1,e.multiple&&e.filterable&&x(()=>{const f=u.value.value.length*15+20;t.inputLength=e.collapseTags?Math.min(50,f):f,He(),ie()}),e.remote&&he(e.remoteMethod)?(t.hoverIndex=-1,e.remoteMethod(a)):he(e.filterMethod)?(e.filterMethod(a),Fe(s)):(t.filteredOptionsCount=t.optionsCount,d.value.query=a,Fe(d),Fe(s)),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&(await x(),je())}},He=()=>{t.currentPlaceholder!==""&&(t.currentPlaceholder=u.value.value?"":t.cachedPlaceHolder)},je=()=>{const a=q.value.filter(V=>V.visible&&!V.disabled&&!V.states.groupDisabled),f=a.find(V=>V.created),k=a[0];t.hoverIndex=Je(q.value,f||k)},Le=()=>{var a;if(e.multiple)t.selectedLabel="";else{const k=Ge(e.modelValue);(a=k.props)!=null&&a.created?(t.createdLabel=k.props.value,t.createdSelected=!0):t.createdSelected=!1,t.selectedLabel=k.currentLabel,t.selected=k,e.filterable&&(t.query=t.selectedLabel);return}const f=[];Array.isArray(e.modelValue)&&e.modelValue.forEach(k=>{f.push(Ge(k))}),t.selected=f,x(()=>{ie()})},Ge=a=>{let f;const k=Dt(a).toLowerCase()==="object",V=Dt(a).toLowerCase()==="null",H=Dt(a).toLowerCase()==="undefined";for(let pe=t.cachedOptions.size-1;pe>=0;pe--){const ne=ye.value[pe];if(k?ae(ne.value,e.valueKey)===ae(a,e.valueKey):ne.value===a){f={value:a,currentLabel:ne.currentLabel,isDisabled:ne.isDisabled};break}}if(f)return f;const X=k?a.label:!V&&!H?a:"",ce={value:a,currentLabel:X};return e.multiple&&(ce.hitState=!1),ce},bt=()=>{setTimeout(()=>{const a=e.valueKey;e.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map(f=>q.value.findIndex(k=>ae(k,a)===ae(f,a)))):t.hoverIndex=-1:t.hoverIndex=q.value.findIndex(f=>$e(f)===$e(t.selected))},300)},Ct=()=>{var a,f;St(),(f=(a=v.value)==null?void 0:a.updatePopper)==null||f.call(a),e.multiple&&ie()},St=()=>{var a;t.inputWidth=(a=r.value)==null?void 0:a.$el.offsetWidth},wt=()=>{e.filterable&&t.query!==t.selectedLabel&&(t.query=t.selectedLabel,fe(t.query))},Ot=Sl(()=>{wt()},U.value),Tt=Sl(a=>{fe(a.target.value)},U.value),Ce=a=>{Ht(e.modelValue,a)||l.emit(Ne,a)},Te=a=>{if(a.code!==sl.delete){if(a.target.value.length<=0&&!Pe()){const f=e.modelValue.slice();f.pop(),l.emit(se,f),Ce(f)}a.target.value.length===1&&e.modelValue.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)}},Qe=(a,f)=>{const k=t.selected.indexOf(f);if(k>-1&&!M.value){const V=e.modelValue.slice();V.splice(k,1),l.emit(se,V),Ce(V),l.emit("remove-tag",f.value)}a.stopPropagation()},Xe=a=>{a.stopPropagation();const f=e.multiple?[]:"";if(!we(f))for(const k of t.selected)k.isDisabled&&f.push(k.value);l.emit(se,f),Ce(f),t.hoverIndex=-1,t.visible=!1,l.emit("clear")},Ie=a=>{var f;if(e.multiple){const k=(e.modelValue||[]).slice(),V=Je(k,a.value);V>-1?k.splice(V,1):(e.multipleLimit<=0||k.length<e.multipleLimit)&&k.push(a.value),l.emit(se,k),Ce(k),a.created&&(t.query="",fe(""),t.inputLength=20),e.filterable&&((f=u.value)==null||f.focus())}else l.emit(se,a.value),Ce(a.value),t.visible=!1;$t(),!t.visible&&x(()=>{ve(a)})},Je=(a=[],f)=>{if(!st(f))return a.indexOf(f);const k=e.valueKey;let V=-1;return a.some((H,X)=>at(ae(H,k))===ae(f,k)?(V=X,!0):!1),V},$t=()=>{const a=u.value||r.value;a&&(a==null||a.focus())},ve=a=>{var f,k,V,H,X;const ce=Array.isArray(a)?a[0]:a;let pe=null;if(ce!=null&&ce.value){const ne=q.value.filter(et=>et.value===ce.value);ne.length>0&&(pe=ne[0].$el)}if(v.value&&pe){const ne=(H=(V=(k=(f=v.value)==null?void 0:f.popperRef)==null?void 0:k.contentRef)==null?void 0:V.querySelector)==null?void 0:H.call(V,`.${p.be("dropdown","wrap")}`);ne&&fn(ne,pe)}(X=c.value)==null||X.handleScroll()},Et=a=>{t.optionsCount++,t.filteredOptionsCount++,t.options.set(a.value,a),t.cachedOptions.set(a.value,a)},kt=(a,f)=>{t.options.get(a)===f&&(t.optionsCount--,t.filteredOptionsCount--,t.options.delete(a))},Lt=a=>{a.code!==sl.backspace&&Pe(!1),t.inputLength=u.value.value.length*15+20,ie()},Pe=a=>{if(!Array.isArray(t.selected))return;const f=t.selected[t.selected.length-1];if(f)return a===!0||a===!1?(f.hitState=a,a):(f.hitState=!f.hitState,f.hitState)},It=a=>{const f=a.target.value;if(a.type==="compositionend")t.isOnComposition=!1,x(()=>fe(f));else{const k=f[f.length-1]||"";t.isOnComposition=!vn(k)}},Pt=()=>{x(()=>ve(t.selected))},_t=a=>{Nt?Nt=!1:((e.automaticDropdown||e.filterable)&&(e.filterable&&!t.visible&&(t.menuVisibleOnFocus=!0),t.visible=!0),l.emit("focus",a))},Vt=()=>{var a,f,k;t.visible=!1,(a=r.value)==null||a.blur(),(k=(f=i.value)==null?void 0:f.blur)==null||k.call(f)},re=a=>{setTimeout(()=>{var f;if((f=v.value)!=null&&f.isFocusInsideContent()){Nt=!0;return}t.visible&&Ve(),l.emit("blur",a)})},_e=a=>{Xe(a)},Ve=()=>{t.visible=!1},Re=a=>{t.visible&&(a.preventDefault(),a.stopPropagation(),t.visible=!1)},Ye=a=>{var f;a&&!t.mouseEnter||M.value||(t.menuVisibleOnFocus?t.menuVisibleOnFocus=!1:(!v.value||!v.value.isFocusInsideContent())&&(t.visible=!t.visible),t.visible&&((f=u.value||r.value)==null||f.focus()))},Rt=()=>{t.visible?q.value[t.hoverIndex]&&Ie(q.value[t.hoverIndex]):Ye()},$e=a=>st(a.value)?ae(a.value,e.valueKey):a.value,Ze=E(()=>q.value.filter(a=>a.visible).every(a=>a.disabled)),At=E(()=>t.selected.slice(0,e.maxCollapseTags)),Ae=E(()=>t.selected.slice(e.maxCollapseTags)),xe=a=>{if(!t.visible){t.visible=!0;return}if(!(t.options.size===0||t.filteredOptionsCount===0)&&!t.isOnComposition&&!Ze.value){a==="next"?(t.hoverIndex++,t.hoverIndex===t.options.size&&(t.hoverIndex=0)):a==="prev"&&(t.hoverIndex--,t.hoverIndex<0&&(t.hoverIndex=t.options.size-1));const f=q.value[t.hoverIndex];(f.disabled===!0||f.states.groupDisabled===!0||!f.visible)&&xe(a),x(()=>ve(m.value))}};return{optionList:C,optionsArray:q,selectSize:be,handleResize:Ct,debouncedOnInputChange:Ot,debouncedQueryChange:Tt,deletePrevTag:Te,deleteTag:Qe,deleteSelected:Xe,handleOptionSelect:Ie,scrollToOption:ve,readonly:A,resetInputHeight:ie,showClose:_,iconComponent:B,iconReverse:L,showNewOption:de,collapseTagSize:ht,setSelected:Le,managePlaceholder:He,selectDisabled:M,emptyText:Z,toggleLastOptionHitState:Pe,resetInputState:Lt,handleComposition:It,onOptionCreate:Et,onOptionDestroy:kt,handleMenuEnter:Pt,handleFocus:_t,blur:Vt,handleBlur:re,handleClearClick:_e,handleClose:Ve,handleKeydownEscape:Re,toggleMenu:Ye,selectOption:Rt,getValueKey:$e,navigateOptions:xe,handleDeleteTooltipTag:(a,f)=>{var k,V;Qe(a,f),(V=(k=g.value)==null?void 0:k.updatePopper)==null||V.call(k)},dropMenuVisible:yt,queryChange:d,groupQueryChange:s,showTagList:At,collapseTagList:Ae,reference:r,input:u,iOSInput:i,tooltipRef:v,tagTooltipRef:g,tags:S,selectWrapper:y,scrollbar:c,handleMouseEnter:()=>{t.mouseEnter=!0},handleMouseLeave:()=>{t.mouseEnter=!1}}};var Xo=W({name:"ElOptions",emits:["update-options"],setup(e,{slots:t,emit:l}){let o=[];function p(r,u){if(r.length!==u.length)return!1;for(const[i]of r.entries())if(r[i]!=u[i])return!1;return!0}return()=>{var r,u;const i=(r=t.default)==null?void 0:r.call(t),v=[];function g(S){Array.isArray(S)&&S.forEach(y=>{var c,m,d,s;const C=(c=(y==null?void 0:y.type)||{})==null?void 0:c.name;C==="ElOptionGroup"?g(!we(y.children)&&!Array.isArray(y.children)&&he((m=y.children)==null?void 0:m.default)?(d=y.children)==null?void 0:d.default():y.children):C==="ElOption"?v.push((s=y.props)==null?void 0:s.label):Array.isArray(y.children)&&g(y.children)})}return i.length&&g((u=i[0])==null?void 0:u.children),p(v,o)||(o=v,l("update-options",v)),i}}});const Tl="ElSelect",Jo=W({name:Tl,componentName:Tl,components:{ElInput:Jt,ElSelectMenu:jo,ElOption:el,ElOptions:Xo,ElTag:Hn,ElScrollbar:mn,ElTooltip:Fl,ElIcon:oe},directives:{ClickOutside:No},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:Dl},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},teleported:gn.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:it,default:Ml},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:it,default:hn},tagType:{...jn.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:yn,default:"bottom-start"}},emits:[se,Ne,"remove-tag","clear","visible-change","focus","blur"],setup(e,t){const l=le("select"),o=le("input"),{t:p}=ft(),r=Go(e),{optionList:u,optionsArray:i,selectSize:v,readonly:g,handleResize:S,collapseTagSize:y,debouncedOnInputChange:c,debouncedQueryChange:m,deletePrevTag:d,deleteTag:s,deleteSelected:C,handleOptionSelect:b,scrollToOption:O,setSelected:h,resetInputHeight:A,managePlaceholder:M,showClose:_,selectDisabled:B,iconComponent:L,iconReverse:U,showNewOption:Z,emptyText:q,toggleLastOptionHitState:ye,resetInputState:de,handleComposition:be,onOptionCreate:ht,onOptionDestroy:yt,handleMenuEnter:ie,handleFocus:fe,blur:He,handleBlur:je,handleClearClick:Le,handleClose:Ge,handleKeydownEscape:bt,toggleMenu:Ct,selectOption:St,getValueKey:wt,navigateOptions:Ot,handleDeleteTooltipTag:Tt,dropMenuVisible:Ce,reference:Te,input:Qe,iOSInput:Xe,tooltipRef:Ie,tagTooltipRef:Je,tags:$t,selectWrapper:ve,scrollbar:Et,queryChange:kt,groupQueryChange:Lt,handleMouseEnter:Pe,handleMouseLeave:It,showTagList:Pt,collapseTagList:_t}=Qo(e,r,t),{focus:Vt}=Uo(Te),{inputWidth:re,selected:_e,inputLength:Ve,filteredOptionsCount:Re,visible:Ye,selectedLabel:Rt,hoverIndex:$e,query:Ze,inputHovering:At,currentPlaceholder:Ae,menuVisibleOnFocus:xe,isOnComposition:tl,options:Ft,cachedOptions:ll,optionsCount:a,prefixWidth:f}=Qt(r),k=E(()=>{const te=[l.b()],Se=n(v);return Se&&te.push(l.m(Se)),e.disabled&&te.push(l.m("disabled")),te}),V=E(()=>[l.e("tags"),l.is("disabled",n(B))]),H=E(()=>[l.b("tags-wrapper"),{"has-prefix":n(f)&&n(_e).length}]),X=E(()=>[l.e("input"),l.is(n(v)),l.is("disabled",n(B))]),ce=E(()=>[l.e("input"),l.is(n(v)),l.em("input","iOS")]),pe=E(()=>[l.is("empty",!e.allowCreate&&!!n(Ze)&&n(Re)===0)]),ne=E(()=>({maxWidth:`${n(re)-32}px`,width:"100%"})),et=E(()=>({maxWidth:`${n(re)>123?n(re)-123:n(re)-75}px`})),nn=E(()=>({marginLeft:`${n(f)}px`,flexGrow:1,width:`${n(Ve)/(n(re)-32)}%`,maxWidth:`${n(re)-42}px`}));Yt(gt,ze({props:e,options:Ft,optionsArray:i,cachedOptions:ll,optionsCount:a,filteredOptionsCount:Re,hoverIndex:$e,handleOptionSelect:b,onOptionCreate:ht,onOptionDestroy:yt,selectWrapper:ve,selected:_e,setSelected:h,queryChange:kt,groupQueryChange:Lt})),pt(()=>{r.cachedPlaceHolder=Ae.value=e.placeholder||(()=>p("el.select.placeholder")),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(Ae.value=""),_l(ve,S),e.remote&&e.multiple&&A(),x(()=>{const te=Te.value&&Te.value.$el;if(te&&(re.value=te.getBoundingClientRect().width,t.slots.prefix)){const Se=te.querySelector(`.${o.e("prefix")}`);f.value=Math.max(Se.getBoundingClientRect().width+11,30)}}),h()}),e.multiple&&!Array.isArray(e.modelValue)&&t.emit(se,[]),!e.multiple&&Array.isArray(e.modelValue)&&t.emit(se,"");const on=E(()=>{var te,Se;return(Se=(te=Ie.value)==null?void 0:te.popperRef)==null?void 0:Se.contentRef});return{isIOS:bn,onOptionsRendered:te=>{u.value=te},prefixWidth:f,selectSize:v,readonly:g,handleResize:S,collapseTagSize:y,debouncedOnInputChange:c,debouncedQueryChange:m,deletePrevTag:d,deleteTag:s,handleDeleteTooltipTag:Tt,deleteSelected:C,handleOptionSelect:b,scrollToOption:O,inputWidth:re,selected:_e,inputLength:Ve,filteredOptionsCount:Re,visible:Ye,selectedLabel:Rt,hoverIndex:$e,query:Ze,inputHovering:At,currentPlaceholder:Ae,menuVisibleOnFocus:xe,isOnComposition:tl,options:Ft,resetInputHeight:A,managePlaceholder:M,showClose:_,selectDisabled:B,iconComponent:L,iconReverse:U,showNewOption:Z,emptyText:q,toggleLastOptionHitState:ye,resetInputState:de,handleComposition:be,handleMenuEnter:ie,handleFocus:fe,blur:He,handleBlur:je,handleClearClick:Le,handleClose:Ge,handleKeydownEscape:bt,toggleMenu:Ct,selectOption:St,getValueKey:wt,navigateOptions:Ot,dropMenuVisible:Ce,focus:Vt,reference:Te,input:Qe,iOSInput:Xe,tooltipRef:Ie,popperPaneRef:on,tags:$t,selectWrapper:ve,scrollbar:Et,wrapperKls:k,tagsKls:V,tagWrapperKls:H,inputKls:X,iOSInputKls:ce,scrollbarKls:pe,selectTagsStyle:ne,nsSelect:l,tagTextStyle:et,inputStyle:nn,handleMouseEnter:Pe,handleMouseLeave:It,showTagList:Pt,collapseTagList:_t,tagTooltipRef:Je}}}),Yo=["disabled","autocomplete"],Zo=["disabled"],xo={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function ea(e,t,l,o,p,r){const u=me("el-tag"),i=me("el-tooltip"),v=me("el-icon"),g=me("el-input"),S=me("el-option"),y=me("el-options"),c=me("el-scrollbar"),m=me("el-select-menu"),d=Cn("click-outside");return Ee((w(),R("div",{ref:"selectWrapper",class:T(e.wrapperKls),onMouseenter:t[21]||(t[21]=(...s)=>e.handleMouseEnter&&e.handleMouseEnter(...s)),onMouseleave:t[22]||(t[22]=(...s)=>e.handleMouseLeave&&e.handleMouseLeave(...s)),onClick:t[23]||(t[23]=J((...s)=>e.toggleMenu&&e.toggleMenu(...s),["stop"]))},[I(i,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:$(()=>[D("div",{class:"select-trigger",onMouseenter:t[19]||(t[19]=s=>e.inputHovering=!0),onMouseleave:t[20]||(t[20]=s=>e.inputHovering=!1)},[e.multiple?(w(),R("div",{key:0,ref:"tags",class:T(e.tagsKls),style:Q(e.selectTagsStyle)},[e.collapseTags&&e.selected.length?(w(),F(il,{key:0,onAfterLeave:e.resetInputHeight},{default:$(()=>[D("span",{class:T(e.tagWrapperKls)},[(w(!0),R(De,null,nt(e.showTagList,s=>(w(),F(u,{key:e.getValueKey(s),closable:!e.selectDisabled&&!s.isDisabled,size:e.collapseTagSize,hit:s.hitState,type:e.tagType,"disable-transitions":"",onClose:C=>e.deleteTag(C,s)},{default:$(()=>[D("span",{class:T(e.nsSelect.e("tags-text")),style:Q(e.tagTextStyle)},Y(s.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128)),e.selected.length>e.maxCollapseTags?(w(),F(u,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:$(()=>[e.collapseTagsTooltip?(w(),F(i,{key:0,ref:"tagTooltipRef",disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:$(()=>[D("span",{class:T(e.nsSelect.e("tags-text"))},"+ "+Y(e.selected.length-e.maxCollapseTags),3)]),content:$(()=>[D("div",{class:T(e.nsSelect.e("collapse-tags"))},[(w(!0),R(De,null,nt(e.collapseTagList,s=>(w(),R("div",{key:e.getValueKey(s),class:T(e.nsSelect.e("collapse-tag"))},[I(u,{class:"in-tooltip",closable:!e.selectDisabled&&!s.isDisabled,size:e.collapseTagSize,hit:s.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:C=>e.handleDeleteTooltipTag(C,s)},{default:$(()=>[D("span",{class:T(e.nsSelect.e("tags-text")),style:Q({maxWidth:e.inputWidth-75+"px"})},Y(s.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(w(),R("span",{key:1,class:T(e.nsSelect.e("tags-text"))},"+ "+Y(e.selected.length-e.maxCollapseTags),3))]),_:1},8,["size","type"])):P("v-if",!0)],2)]),_:1},8,["onAfterLeave"])):P("v-if",!0),e.collapseTags?P("v-if",!0):(w(),F(il,{key:1,onAfterLeave:e.resetInputHeight},{default:$(()=>[D("span",{class:T(e.tagWrapperKls),style:Q(e.prefixWidth&&e.selected.length?{marginLeft:`${e.prefixWidth}px`}:"")},[(w(!0),R(De,null,nt(e.selected,s=>(w(),F(u,{key:e.getValueKey(s),closable:!e.selectDisabled&&!s.isDisabled,size:e.collapseTagSize,hit:s.hitState,type:e.tagType,"disable-transitions":"",onClose:C=>e.deleteTag(C,s)},{default:$(()=>[D("span",{class:T(e.nsSelect.e("tags-text")),style:Q({maxWidth:e.inputWidth-75+"px"})},Y(s.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],6)]),_:1},8,["onAfterLeave"])),e.filterable&&!e.selectDisabled?Ee((w(),R("input",{key:2,ref:"input","onUpdate:modelValue":t[0]||(t[0]=s=>e.query=s),type:"text",class:T(e.inputKls),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:Q(e.inputStyle),onFocus:t[1]||(t[1]=(...s)=>e.handleFocus&&e.handleFocus(...s)),onBlur:t[2]||(t[2]=(...s)=>e.handleBlur&&e.handleBlur(...s)),onKeyup:t[3]||(t[3]=(...s)=>e.managePlaceholder&&e.managePlaceholder(...s)),onKeydown:[t[4]||(t[4]=(...s)=>e.resetInputState&&e.resetInputState(...s)),t[5]||(t[5]=ee(J(s=>e.navigateOptions("next"),["prevent"]),["down"])),t[6]||(t[6]=ee(J(s=>e.navigateOptions("prev"),["prevent"]),["up"])),t[7]||(t[7]=ee((...s)=>e.handleKeydownEscape&&e.handleKeydownEscape(...s),["esc"])),t[8]||(t[8]=ee(J((...s)=>e.selectOption&&e.selectOption(...s),["stop","prevent"]),["enter"])),t[9]||(t[9]=ee((...s)=>e.deletePrevTag&&e.deletePrevTag(...s),["delete"])),t[10]||(t[10]=ee(s=>e.visible=!1,["tab"]))],onCompositionstart:t[11]||(t[11]=(...s)=>e.handleComposition&&e.handleComposition(...s)),onCompositionupdate:t[12]||(t[12]=(...s)=>e.handleComposition&&e.handleComposition(...s)),onCompositionend:t[13]||(t[13]=(...s)=>e.handleComposition&&e.handleComposition(...s)),onInput:t[14]||(t[14]=(...s)=>e.debouncedQueryChange&&e.debouncedQueryChange(...s))},null,46,Yo)),[[Sn,e.query]]):P("v-if",!0)],6)):P("v-if",!0),P(" fix: https://github.com/element-plus/element-plus/issues/11415 "),e.isIOS&&!e.multiple&&e.filterable&&e.readonly?(w(),R("input",{key:1,ref:"iOSInput",class:T(e.iOSInputKls),disabled:e.selectDisabled,type:"text"},null,10,Zo)):P("v-if",!0),I(g,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":t[15]||(t[15]=s=>e.selectedLabel=s),type:"text",placeholder:typeof e.currentPlaceholder=="function"?e.currentPlaceholder():e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:T([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[t[16]||(t[16]=ee(J(s=>e.navigateOptions("next"),["stop","prevent"]),["down"])),t[17]||(t[17]=ee(J(s=>e.navigateOptions("prev"),["stop","prevent"]),["up"])),ee(J(e.selectOption,["stop","prevent"]),["enter"]),ee(e.handleKeydownEscape,["esc"]),t[18]||(t[18]=ee(s=>e.visible=!1,["tab"]))]},qt({suffix:$(()=>[e.iconComponent&&!e.showClose?(w(),F(v,{key:0,class:T([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:$(()=>[(w(),F(ke(e.iconComponent)))]),_:1},8,["class"])):P("v-if",!0),e.showClose&&e.clearIcon?(w(),F(v,{key:1,class:T([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:$(()=>[(w(),F(ke(e.clearIcon)))]),_:1},8,["class","onClick"])):P("v-if",!0)]),_:2},[e.$slots.prefix?{name:"prefix",fn:$(()=>[D("div",xo,[z(e.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:$(()=>[I(m,null,{default:$(()=>[Ee(I(c,{ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:T(e.scrollbarKls)},{default:$(()=>[e.showNewOption?(w(),F(S,{key:0,value:e.query,created:!0},null,8,["value"])):P("v-if",!0),I(y,{onUpdateOptions:e.onOptionsRendered},{default:$(()=>[z(e.$slots,"default")]),_:3},8,["onUpdateOptions"])]),_:3},8,["wrap-class","view-class","class"]),[[ct,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&e.options.size===0)?(w(),R(De,{key:0},[e.$slots.empty?z(e.$slots,"empty",{key:0}):(w(),R("p",{key:1,class:T(e.nsSelect.be("dropdown","empty"))},Y(e.emptyText),3))],64)):P("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[d,e.handleClose,e.popperPaneRef]])}var ta=ue(Jo,[["render",ea],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const la=W({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(e){const t=le("select"),l=N(!0),o=dt(),p=N([]);Yt(Jl,ze({...Qt(e)}));const r=Be(gt);pt(()=>{p.value=u(o.subTree)});const u=v=>{const g=[];return Array.isArray(v.children)&&v.children.forEach(S=>{var y;S.type&&S.type.name==="ElOption"&&S.component&&S.component.proxy?g.push(S.component.proxy):(y=S.children)!=null&&y.length&&g.push(...u(S))}),g},{groupQueryChange:i}=at(r);return G(i,()=>{l.value=p.value.some(v=>v.visible===!0)},{flush:"post"}),{visible:l,ns:t}}});function na(e,t,l,o,p,r){return Ee((w(),R("ul",{class:T(e.ns.be("group","wrap"))},[D("li",{class:T(e.ns.be("group","title"))},Y(e.label),3),D("li",null,[D("ul",{class:T(e.ns.b("group"))},[z(e.$slots,"default")],2)])],2)),[[ct,e.visible]])}var Yl=ue(la,[["render",na],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const oa=vt(ta,{Option:el,OptionGroup:Yl});Bl(el);Bl(Yl);const aa=Oe({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:K(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:K([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:K(Function),default:e=>`${e}%`}}),sa=["aria-valuenow"],ia={viewBox:"0 0 100 100"},ra=["d","stroke","stroke-linecap","stroke-width"],ua=["d","stroke","opacity","stroke-linecap","stroke-width"],da={key:0},ca=W({name:"ElProgress"}),pa=W({...ca,props:aa,setup(e){const t=e,l={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},o=le("progress"),p=E(()=>({width:`${t.percentage}%`,animationDuration:`${t.duration}s`,backgroundColor:O(t.percentage)})),r=E(()=>(t.strokeWidth/t.width*100).toFixed(1)),u=E(()=>["circle","dashboard"].includes(t.type)?Number.parseInt(`${50-Number.parseFloat(r.value)/2}`,10):0),i=E(()=>{const h=u.value,A=t.type==="dashboard";return`
          M 50 50
          m 0 ${A?"":"-"}${h}
          a ${h} ${h} 0 1 1 0 ${A?"-":""}${h*2}
          a ${h} ${h} 0 1 1 0 ${A?"":"-"}${h*2}
          `}),v=E(()=>2*Math.PI*u.value),g=E(()=>t.type==="dashboard"?.75:1),S=E(()=>`${-1*v.value*(1-g.value)/2}px`),y=E(()=>({strokeDasharray:`${v.value*g.value}px, ${v.value}px`,strokeDashoffset:S.value})),c=E(()=>({strokeDasharray:`${v.value*g.value*(t.percentage/100)}px, ${v.value}px`,strokeDashoffset:S.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),m=E(()=>{let h;return t.color?h=O(t.percentage):h=l[t.status]||l.default,h}),d=E(()=>t.status==="warning"?wn:t.type==="line"?t.status==="success"?Ul:Ml:t.status==="success"?Nl:Kl),s=E(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),C=E(()=>t.format(t.percentage));function b(h){const A=100/h.length;return h.map((_,B)=>we(_)?{color:_,percentage:(B+1)*A}:_).sort((_,B)=>_.percentage-B.percentage)}const O=h=>{var A;const{color:M}=t;if(he(M))return M(h);if(we(M))return M;{const _=b(M);for(const B of _)if(B.percentage>h)return B.color;return(A=_[_.length-1])==null?void 0:A.color}};return(h,A)=>(w(),R("div",{class:T([n(o).b(),n(o).m(h.type),n(o).is(h.status),{[n(o).m("without-text")]:!h.showText,[n(o).m("text-inside")]:h.textInside}]),role:"progressbar","aria-valuenow":h.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[h.type==="line"?(w(),R("div",{key:0,class:T(n(o).b("bar"))},[D("div",{class:T(n(o).be("bar","outer")),style:Q({height:`${h.strokeWidth}px`})},[D("div",{class:T([n(o).be("bar","inner"),{[n(o).bem("bar","inner","indeterminate")]:h.indeterminate},{[n(o).bem("bar","inner","striped")]:h.striped},{[n(o).bem("bar","inner","striped-flow")]:h.stripedFlow}]),style:Q(n(p))},[(h.showText||h.$slots.default)&&h.textInside?(w(),R("div",{key:0,class:T(n(o).be("bar","innerText"))},[z(h.$slots,"default",{percentage:h.percentage},()=>[D("span",null,Y(n(C)),1)])],2)):P("v-if",!0)],6)],6)],2)):(w(),R("div",{key:1,class:T(n(o).b("circle")),style:Q({height:`${h.width}px`,width:`${h.width}px`})},[(w(),R("svg",ia,[D("path",{class:T(n(o).be("circle","track")),d:n(i),stroke:`var(${n(o).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":h.strokeLinecap,"stroke-width":n(r),fill:"none",style:Q(n(y))},null,14,ra),D("path",{class:T(n(o).be("circle","path")),d:n(i),stroke:n(m),fill:"none",opacity:h.percentage?1:0,"stroke-linecap":h.strokeLinecap,"stroke-width":n(r),style:Q(n(c))},null,14,ua)]))],6)),(h.showText||h.$slots.default)&&!h.textInside?(w(),R("div",{key:2,class:T(n(o).e("text")),style:Q({fontSize:`${n(s)}px`})},[z(h.$slots,"default",{percentage:h.percentage},()=>[h.status?(w(),F(n(oe),{key:1},{default:$(()=>[(w(),F(ke(n(d))))]),_:1})):(w(),R("span",da,Y(n(C)),1))])],6)):P("v-if",!0)],10,sa))}});var fa=ue(pa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const va=vt(fa),ma=Oe({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:Dl},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:it},inactiveIcon:{type:it},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:K(Function)},id:String,tabindex:{type:[String,Number]},value:{type:[Boolean,String,Number],default:!1}}),ga={[se]:e=>ot(e)||we(e)||lt(e),[Ne]:e=>ot(e)||we(e)||lt(e),[zt]:e=>ot(e)||we(e)||lt(e)},ha=["onClick"],ya=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],ba=["aria-hidden"],Ca=["aria-hidden"],Sa=["aria-hidden"],jt="ElSwitch",wa=W({name:jt}),Oa=W({...wa,props:ma,emits:ga,setup(e,{expose:t,emit:l}){const o=e,p=dt(),{formItem:r}=Rl(),u=Al(),i=le("switch");(L=>{L.forEach(U=>{Vl({from:U[0],replacement:U[1],scope:jt,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},E(()=>{var Z;return!!((Z=p.vnode.props)!=null&&Z[U[2]])}))})})([['"value"','"model-value" or "v-model"',"value"],['"active-color"',"CSS var `--el-switch-on-color`","activeColor"],['"inactive-color"',"CSS var `--el-switch-off-color`","inactiveColor"],['"border-color"',"CSS var `--el-switch-border-color`","borderColor"]]);const{inputId:g}=On(o,{formItemContext:r}),S=We(E(()=>o.loading)),y=N(o.modelValue!==!1),c=N(),m=N(),d=E(()=>[i.b(),i.m(u.value),i.is("disabled",S.value),i.is("checked",h.value)]),s=E(()=>[i.e("label"),i.em("label","left"),i.is("active",!h.value)]),C=E(()=>[i.e("label"),i.em("label","right"),i.is("active",h.value)]),b=E(()=>({width:Tn(o.width)}));G(()=>o.modelValue,()=>{y.value=!0}),G(()=>o.value,()=>{y.value=!1});const O=E(()=>y.value?o.modelValue:o.value),h=E(()=>O.value===o.activeValue);[o.activeValue,o.inactiveValue].includes(O.value)||(l(se,o.inactiveValue),l(Ne,o.inactiveValue),l(zt,o.inactiveValue)),G(h,L=>{var U;c.value.checked=L,o.validateEvent&&((U=r==null?void 0:r.validate)==null||U.call(r,"change").catch(Z=>Xt()))});const A=()=>{const L=h.value?o.inactiveValue:o.activeValue;l(se,L),l(Ne,L),l(zt,L),x(()=>{c.value.checked=h.value})},M=()=>{if(S.value)return;const{beforeChange:L}=o;if(!L){A();return}const U=L();[rl(U),ot(U)].includes(!0)||mt(jt,"beforeChange must return type `Promise<boolean>` or `boolean`"),rl(U)?U.then(q=>{q&&A()}).catch(q=>{}):U&&A()},_=E(()=>i.cssVarBlock({...o.activeColor?{"on-color":o.activeColor}:null,...o.inactiveColor?{"off-color":o.inactiveColor}:null,...o.borderColor?{"border-color":o.borderColor}:null})),B=()=>{var L,U;(U=(L=c.value)==null?void 0:L.focus)==null||U.call(L)};return pt(()=>{c.value.checked=h.value}),t({focus:B,checked:h}),(L,U)=>(w(),R("div",{class:T(n(d)),style:Q(n(_)),onClick:J(M,["prevent"])},[D("input",{id:n(g),ref_key:"input",ref:c,class:T(n(i).e("input")),type:"checkbox",role:"switch","aria-checked":n(h),"aria-disabled":n(S),name:L.name,"true-value":L.activeValue,"false-value":L.inactiveValue,disabled:n(S),tabindex:L.tabindex,onChange:A,onKeydown:ee(M,["enter"])},null,42,ya),!L.inlinePrompt&&(L.inactiveIcon||L.inactiveText)?(w(),R("span",{key:0,class:T(n(s))},[L.inactiveIcon?(w(),F(n(oe),{key:0},{default:$(()=>[(w(),F(ke(L.inactiveIcon)))]),_:1})):P("v-if",!0),!L.inactiveIcon&&L.inactiveText?(w(),R("span",{key:1,"aria-hidden":n(h)},Y(L.inactiveText),9,ba)):P("v-if",!0)],2)):P("v-if",!0),D("span",{ref_key:"core",ref:m,class:T(n(i).e("core")),style:Q(n(b))},[L.inlinePrompt?(w(),R("div",{key:0,class:T(n(i).e("inner"))},[L.activeIcon||L.inactiveIcon?(w(),F(n(oe),{key:0,class:T(n(i).is("icon"))},{default:$(()=>[(w(),F(ke(n(h)?L.activeIcon:L.inactiveIcon)))]),_:1},8,["class"])):L.activeText||L.inactiveText?(w(),R("span",{key:1,class:T(n(i).is("text")),"aria-hidden":!n(h)},Y(n(h)?L.activeText:L.inactiveText),11,Ca)):P("v-if",!0)],2)):P("v-if",!0),D("div",{class:T(n(i).e("action"))},[L.loading?(w(),F(n(oe),{key:0,class:T(n(i).is("loading"))},{default:$(()=>[I(n($n))]),_:1},8,["class"])):P("v-if",!0)],2)],6),!L.inlinePrompt&&(L.activeIcon||L.activeText)?(w(),R("span",{key:1,class:T(n(C))},[L.activeIcon?(w(),F(n(oe),{key:0},{default:$(()=>[(w(),F(ke(L.activeIcon)))]),_:1})):P("v-if",!0),!L.activeIcon&&L.activeText?(w(),R("span",{key:1,"aria-hidden":!n(h)},Y(L.activeText),9,Sa)):P("v-if",!0)],2)):P("v-if",!0)],14,ha))}});var Ta=ue(Oa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const $a=vt(Ta),Zl=Symbol("uploadContextKey"),Ea="ElUpload";class ka extends Error{constructor(t,l,o,p){super(t),this.name="UploadAjaxError",this.status=l,this.method=o,this.url=p}}function $l(e,t,l){let o;return l.response?o=`${l.response.error||l.response}`:l.responseText?o=`${l.responseText}`:o=`fail to ${t.method} ${e} ${l.status}`,new ka(o,l.status,t.method,e)}function La(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}const Ia=e=>{typeof XMLHttpRequest>"u"&&mt(Ea,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,l=e.action;t.upload&&t.upload.addEventListener("progress",r=>{const u=r;u.percent=r.total>0?r.loaded/r.total*100:0,e.onProgress(u)});const o=new FormData;if(e.data)for(const[r,u]of Object.entries(e.data))Array.isArray(u)?o.append(r,...u):o.append(r,u);o.append(e.filename,e.file,e.file.name),t.addEventListener("error",()=>{e.onError($l(l,e,t))}),t.addEventListener("load",()=>{if(t.status<200||t.status>=300)return e.onError($l(l,e,t));e.onSuccess(La(t))}),t.open(e.method,l,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const p=e.headers||{};if(p instanceof Headers)p.forEach((r,u)=>t.setRequestHeader(u,r));else for(const[r,u]of Object.entries(p))ql(u)||t.setRequestHeader(r,String(u));return t.send(o),t},xl=["text","picture","picture-card"];let Pa=1;const Gt=()=>Date.now()+Pa++,en=Oe({action:{type:String,default:"#"},headers:{type:K(Object)},method:{type:String,default:"post"},data:{type:Object,default:()=>Wt({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},fileList:{type:K(Array),default:()=>Wt([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:xl,default:"text"},httpRequest:{type:K(Function),default:Ia},disabled:Boolean,limit:Number}),_a=Oe({...en,beforeUpload:{type:K(Function),default:j},beforeRemove:{type:K(Function)},onRemove:{type:K(Function),default:j},onChange:{type:K(Function),default:j},onPreview:{type:K(Function),default:j},onSuccess:{type:K(Function),default:j},onProgress:{type:K(Function),default:j},onError:{type:K(Function),default:j},onExceed:{type:K(Function),default:j}}),Va=Oe({files:{type:K(Array),default:()=>Wt([])},disabled:{type:Boolean,default:!1},handlePreview:{type:K(Function),default:j},listType:{type:String,values:xl,default:"text"}}),Ra={remove:e=>!!e},Aa=["onKeydown"],Fa=["src"],Da=["onClick"],Ma=["title"],Ba=["onClick"],Ua=["onClick"],Na=W({name:"ElUploadList"}),Ka=W({...Na,props:Va,emits:Ra,setup(e,{emit:t}){const{t:l}=ft(),o=le("upload"),p=le("icon"),r=le("list"),u=We(),i=N(!1),v=g=>{t("remove",g)};return(g,S)=>(w(),F(In,{tag:"ul",class:T([n(o).b("list"),n(o).bm("list",g.listType),n(o).is("disabled",n(u))]),name:n(r).b()},{default:$(()=>[(w(!0),R(De,null,nt(g.files,y=>(w(),R("li",{key:y.uid||y.name,class:T([n(o).be("list","item"),n(o).is(y.status),{focusing:i.value}]),tabindex:"0",onKeydown:ee(c=>!n(u)&&v(y),["delete"]),onFocus:S[0]||(S[0]=c=>i.value=!0),onBlur:S[1]||(S[1]=c=>i.value=!1),onClick:S[2]||(S[2]=c=>i.value=!1)},[z(g.$slots,"default",{file:y},()=>[g.listType==="picture"||y.status!=="uploading"&&g.listType==="picture-card"?(w(),R("img",{key:0,class:T(n(o).be("list","item-thumbnail")),src:y.url,alt:""},null,10,Fa)):P("v-if",!0),y.status==="uploading"||g.listType!=="picture-card"?(w(),R("div",{key:1,class:T(n(o).be("list","item-info"))},[D("a",{class:T(n(o).be("list","item-name")),onClick:J(c=>g.handlePreview(y),["prevent"])},[I(n(oe),{class:T(n(p).m("document"))},{default:$(()=>[I(n(En))]),_:1},8,["class"]),D("span",{class:T(n(o).be("list","item-file-name")),title:y.name},Y(y.name),11,Ma)],10,Da),y.status==="uploading"?(w(),F(n(va),{key:0,type:g.listType==="picture-card"?"circle":"line","stroke-width":g.listType==="picture-card"?6:2,percentage:Number(y.percentage),style:Q(g.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):P("v-if",!0)],2)):P("v-if",!0),D("label",{class:T(n(o).be("list","item-status-label"))},[g.listType==="text"?(w(),F(n(oe),{key:0,class:T([n(p).m("upload-success"),n(p).m("circle-check")])},{default:$(()=>[I(n(Ul))]),_:1},8,["class"])):["picture-card","picture"].includes(g.listType)?(w(),F(n(oe),{key:1,class:T([n(p).m("upload-success"),n(p).m("check")])},{default:$(()=>[I(n(Nl))]),_:1},8,["class"])):P("v-if",!0)],2),n(u)?P("v-if",!0):(w(),F(n(oe),{key:2,class:T(n(p).m("close")),onClick:c=>v(y)},{default:$(()=>[I(n(Kl))]),_:2},1032,["class","onClick"])),P(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),P(" This is a bug which needs to be fixed "),P(" TODO: Fix the incorrect navigation interaction "),n(u)?P("v-if",!0):(w(),R("i",{key:3,class:T(n(p).m("close-tip"))},Y(n(l)("el.upload.deleteTip")),3)),g.listType==="picture-card"?(w(),R("span",{key:4,class:T(n(o).be("list","item-actions"))},[D("span",{class:T(n(o).be("list","item-preview")),onClick:c=>g.handlePreview(y)},[I(n(oe),{class:T(n(p).m("zoom-in"))},{default:$(()=>[I(n(kn))]),_:1},8,["class"])],10,Ba),n(u)?P("v-if",!0):(w(),R("span",{key:0,class:T(n(o).be("list","item-delete")),onClick:c=>v(y)},[I(n(oe),{class:T(n(p).m("delete"))},{default:$(()=>[I(n(Ln))]),_:1},8,["class"])],10,Ua))],2)):P("v-if",!0)])],42,Aa))),128)),z(g.$slots,"append")]),_:3},8,["class","name"]))}});var El=ue(Ka,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const qa=Oe({disabled:{type:Boolean,default:!1}}),za={file:e=>Pn(e)},Wa=["onDrop","onDragover"],tn="ElUploadDrag",Ha=W({name:tn}),ja=W({...Ha,props:qa,emits:za,setup(e,{emit:t}){const l=Be(Zl);l||mt(tn,"usage: <el-upload><el-upload-dragger /></el-upload>");const o=le("upload"),p=N(!1),r=We(),u=v=>{if(r.value)return;p.value=!1,v.stopPropagation();const g=Array.from(v.dataTransfer.files),S=l.accept.value;if(!S){t("file",g);return}const y=g.filter(c=>{const{type:m,name:d}=c,s=d.includes(".")?`.${d.split(".").pop()}`:"",C=m.replace(/\/.*$/,"");return S.split(",").map(b=>b.trim()).filter(b=>b).some(b=>b.startsWith(".")?s===b:/\/\*$/.test(b)?C===b.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(b)?m===b:!1)});t("file",y)},i=()=>{r.value||(p.value=!0)};return(v,g)=>(w(),R("div",{class:T([n(o).b("dragger"),n(o).is("dragover",p.value)]),onDrop:J(u,["prevent"]),onDragover:J(i,["prevent"]),onDragleave:g[0]||(g[0]=J(S=>p.value=!1,["prevent"]))},[z(v.$slots,"default")],42,Wa))}});var Ga=ue(ja,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const Qa=Oe({...en,beforeUpload:{type:K(Function),default:j},onRemove:{type:K(Function),default:j},onStart:{type:K(Function),default:j},onSuccess:{type:K(Function),default:j},onProgress:{type:K(Function),default:j},onError:{type:K(Function),default:j},onExceed:{type:K(Function),default:j}}),Xa=["onKeydown"],Ja=["name","multiple","accept"],Ya=W({name:"ElUploadContent",inheritAttrs:!1}),Za=W({...Ya,props:Qa,setup(e,{expose:t}){const l=e,o=le("upload"),p=We(),r=Ue({}),u=Ue(),i=d=>{if(d.length===0)return;const{autoUpload:s,limit:C,fileList:b,multiple:O,onStart:h,onExceed:A}=l;if(C&&b.length+d.length>C){A(d,b);return}O||(d=d.slice(0,1));for(const M of d){const _=M;_.uid=Gt(),h(_),s&&v(_)}},v=async d=>{if(u.value.value="",!l.beforeUpload)return g(d);let s,C={};try{const O=l.data,h=l.beforeUpload(d);C=st(l.data)?gl(l.data):l.data,s=await h,st(l.data)&&Ht(O,C)&&(C=gl(l.data))}catch{s=!1}if(s===!1){l.onRemove(d);return}let b=d;s instanceof Blob&&(s instanceof File?b=s:b=new File([s],d.name,{type:d.type})),g(Object.assign(b,{uid:d.uid}),C)},g=(d,s)=>{const{headers:C,data:b,method:O,withCredentials:h,name:A,action:M,onProgress:_,onSuccess:B,onError:L,httpRequest:U}=l,{uid:Z}=d,q={headers:C||{},withCredentials:h,file:d,data:s??b,method:O,filename:A,action:M,onProgress:de=>{_(de,d)},onSuccess:de=>{B(de,d),delete r.value[Z]},onError:de=>{L(de,d),delete r.value[Z]}},ye=U(q);r.value[Z]=ye,ye instanceof Promise&&ye.then(q.onSuccess,q.onError)},S=d=>{const s=d.target.files;s&&i(Array.from(s))},y=()=>{p.value||(u.value.value="",u.value.click())},c=()=>{y()};return t({abort:d=>{_n(r.value).filter(d?([C])=>String(d.uid)===C:()=>!0).forEach(([C,b])=>{b instanceof XMLHttpRequest&&b.abort(),delete r.value[C]})},upload:v}),(d,s)=>(w(),R("div",{class:T([n(o).b(),n(o).m(d.listType),n(o).is("drag",d.drag)]),tabindex:"0",onClick:y,onKeydown:ee(J(c,["self"]),["enter","space"])},[d.drag?(w(),F(Ga,{key:0,disabled:n(p),onFile:i},{default:$(()=>[z(d.$slots,"default")]),_:3},8,["disabled"])):z(d.$slots,"default",{key:1}),D("input",{ref_key:"inputRef",ref:u,class:T(n(o).e("input")),name:d.name,multiple:d.multiple,accept:d.accept,type:"file",onChange:S,onClick:s[0]||(s[0]=J(()=>{},["stop"]))},null,42,Ja)],42,Xa))}});var kl=ue(Za,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const Ll="ElUpload",xa=e=>{var t;(t=e.url)!=null&&t.startsWith("blob:")&&URL.revokeObjectURL(e.url)},es=(e,t)=>{const l=Vn(e,"fileList",void 0,{passive:!0}),o=c=>l.value.find(m=>m.uid===c.uid);function p(c){var m;(m=t.value)==null||m.abort(c)}function r(c=["ready","uploading","success","fail"]){l.value=l.value.filter(m=>!c.includes(m.status))}const u=(c,m)=>{const d=o(m);d&&(console.error(c),d.status="fail",l.value.splice(l.value.indexOf(d),1),e.onError(c,d,l.value),e.onChange(d,l.value))},i=(c,m)=>{const d=o(m);d&&(e.onProgress(c,d,l.value),d.status="uploading",d.percentage=Math.round(c.percent))},v=(c,m)=>{const d=o(m);d&&(d.status="success",d.response=c,e.onSuccess(c,d,l.value),e.onChange(d,l.value))},g=c=>{ql(c.uid)&&(c.uid=Gt());const m={name:c.name,percentage:0,status:"ready",size:c.size,raw:c,uid:c.uid};if(e.listType==="picture-card"||e.listType==="picture")try{m.url=URL.createObjectURL(c)}catch(d){Xt(Ll,d.message),e.onError(d,m,l.value)}l.value=[...l.value,m],e.onChange(m,l.value)},S=async c=>{const m=c instanceof File?o(c):c;m||mt(Ll,"file to be removed not found");const d=s=>{p(s);const C=l.value;C.splice(C.indexOf(s),1),e.onRemove(s,C),xa(s)};e.beforeRemove?await e.beforeRemove(m,l.value)!==!1&&d(m):d(m)};function y(){l.value.filter(({status:c})=>c==="ready").forEach(({raw:c})=>{var m;return c&&((m=t.value)==null?void 0:m.upload(c))})}return G(()=>e.listType,c=>{c!=="picture-card"&&c!=="picture"||(l.value=l.value.map(m=>{const{raw:d,url:s}=m;if(!s&&d)try{m.url=URL.createObjectURL(d)}catch(C){e.onError(C,m,l.value)}return m}))}),G(l,c=>{for(const m of c)m.uid||(m.uid=Gt()),m.status||(m.status="success")},{immediate:!0,deep:!0}),{uploadFiles:l,abort:p,clearFiles:r,handleError:u,handleProgress:i,handleStart:g,handleSuccess:v,handleRemove:S,submit:y}},ts=W({name:"ElUpload"}),ls=W({...ts,props:_a,setup(e,{expose:t}){const l=e,o=Rn(),p=We(),r=Ue(),{abort:u,submit:i,clearFiles:v,uploadFiles:g,handleStart:S,handleError:y,handleRemove:c,handleSuccess:m,handleProgress:d}=es(l,r),s=E(()=>l.listType==="picture-card"),C=E(()=>({...l,fileList:g.value,onStart:S,onProgress:d,onSuccess:m,onError:y,onRemove:c}));return Pl(()=>{g.value.forEach(({url:b})=>{b!=null&&b.startsWith("blob:")&&URL.revokeObjectURL(b)})}),Yt(Zl,{accept:An(l,"accept")}),t({abort:u,submit:i,clearFiles:v,handleStart:S,handleRemove:c}),(b,O)=>(w(),R("div",null,[n(s)&&b.showFileList?(w(),F(El,{key:0,disabled:n(p),"list-type":b.listType,files:n(g),"handle-preview":b.onPreview,onRemove:n(c)},qt({append:$(()=>[I(kl,ul({ref_key:"uploadRef",ref:r},n(C)),{default:$(()=>[n(o).trigger?z(b.$slots,"trigger",{key:0}):P("v-if",!0),!n(o).trigger&&n(o).default?z(b.$slots,"default",{key:1}):P("v-if",!0)]),_:3},16)]),_:2},[b.$slots.file?{name:"default",fn:$(({file:h})=>[z(b.$slots,"file",{file:h})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):P("v-if",!0),!n(s)||n(s)&&!b.showFileList?(w(),F(kl,ul({key:1,ref_key:"uploadRef",ref:r},n(C)),{default:$(()=>[n(o).trigger?z(b.$slots,"trigger",{key:0}):P("v-if",!0),!n(o).trigger&&n(o).default?z(b.$slots,"default",{key:1}):P("v-if",!0)]),_:3},16)):P("v-if",!0),b.$slots.trigger?z(b.$slots,"default",{key:2}):P("v-if",!0),z(b.$slots,"tip"),!n(s)&&b.showFileList?(w(),F(El,{key:3,disabled:n(p),"list-type":b.listType,files:n(g),"handle-preview":b.onPreview,onRemove:n(c)},qt({_:2},[b.$slots.file?{name:"default",fn:$(({file:h})=>[z(b.$slots,"file",{file:h})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):P("v-if",!0)]))}});var ns=ue(ls,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const os=vt(ns);const ln=e=>(Fn("data-v-73966840"),e=e(),Dn(),e),as=ln(()=>D("h3",null,"其他设置",-1)),ss={class:"config-card p-2"},is={class:"config-tip"},rs=ln(()=>D("div",{class:"config-title my-2"},"开放注册",-1)),us=W({__name:"OtherConfig",setup(e){const t=ze({openRegister:!0}),l={handleChange:async o=>{const p=await qe.save("allow_register",o?"1":"0");rt(p,"设置成功")},getConfig:async()=>{const o=await qe.one("allow_register");o.code===200&&(t.openRegister=o.data.value==="1")}};return l.getConfig(),(o,p)=>{const r=zl,u=Fl,i=$a,v=xt;return w(),F(v,{class:"box-card cus-box-card",shadow:"hover"},{header:$(()=>[as]),default:$(()=>[D("div",ss,[I(u,{class:"box-item",effect:"dark",content:"是否允许用户自行注册账号？",placement:"top"},{default:$(()=>[D("span",is,[I(r,{name:"questioncircle1",size:"12px"}),Ke(" 开放注册 ")])]),_:1}),rs,I(i,{onChange:l.handleChange,modelValue:n(t).openRegister,"onUpdate:modelValue":p[0]||(p[0]=g=>n(t).openRegister=g),"active-text":"开放","inactive-text":"禁止"},null,8,["onChange","modelValue"])])]),_:1})}}});const ds=Zt(us,[["__scopeId","data-v-73966840"]]),cs=D("h3",null,"邮件配置",-1),ps={class:"flex-sb w-100"},fs=W({__name:"EmailConfig",setup(e){const t=N(null),l=N(""),o=N(!1),p=N(!1),r={getConfig:async()=>{const u=await qe.one("email_config");u.code===200&&(t.value=u.data.json)},handleSave:async()=>{p.value=!0;const u=await qe.save("email_config",void 0,JSON.stringify(t.value));rt(u),p.value=!1},testEmail:async()=>{if(t.value){o.value=!0;const u=await Wn.email(t.value.host,parseInt(t.value.port),t.value.account,t.value.password,t.value.subject,t.value.nickname,"当您收到这封邮件，代表您的邮件服务配置成功！",l.value);rt(u),o.value=!1}else Me.warning("请先完善邮件配置表单！")}};return r.getConfig(),(u,i)=>{const v=Jt,g=jl,S=Hl,y=Gl,c=xt;return w(),F(c,{class:"box-card cus-box-card",shadow:"hover"},{header:$(()=>[cs]),default:$(()=>[n(t)?(w(),F(y,{key:0,style:{"max-width":"800px"}},{default:$(()=>[I(g,{label:"服务地址"},{default:$(()=>[I(v,{modelValue:n(t).host,"onUpdate:modelValue":i[0]||(i[0]=m=>n(t).host=m),placeholder:"邮件服务器地址"},null,8,["modelValue"])]),_:1}),I(g,{label:"服务端口"},{default:$(()=>[I(v,{type:"text",modelValue:n(t).port,"onUpdate:modelValue":i[1]||(i[1]=m=>n(t).port=m),placeholder:"邮件服务端口"},null,8,["modelValue"])]),_:1}),I(g,{label:"发信账号"},{default:$(()=>[I(v,{modelValue:n(t).account,"onUpdate:modelValue":i[2]||(i[2]=m=>n(t).account=m),placeholder:"发信邮件账号"},null,8,["modelValue"])]),_:1}),I(g,{label:"服务密码"},{default:$(()=>[I(v,{modelValue:n(t).password,"onUpdate:modelValue":i[3]||(i[3]=m=>n(t).password=m),placeholder:"邮件服务密码"},null,8,["modelValue"])]),_:1}),I(g,{label:"邮件主题"},{default:$(()=>[I(v,{modelValue:n(t).subject,"onUpdate:modelValue":i[4]||(i[4]=m=>n(t).subject=m),placeholder:"邮件主题"},null,8,["modelValue"])]),_:1}),I(g,{label:"邮件昵称"},{default:$(()=>[I(v,{modelValue:n(t).nickname,"onUpdate:modelValue":i[5]||(i[5]=m=>n(t).nickname=m),placeholder:"邮件昵称,请输入英文"},null,8,["modelValue"])]),_:1}),D("div",ps,[I(v,{modelValue:n(l),"onUpdate:modelValue":i[6]||(i[6]=m=>Wl(l)?l.value=m:null),placeholder:"接收者邮箱"},null,8,["modelValue"]),I(S,{class:"ml-2",type:"warning",onClick:r.testEmail,loading:n(o)},{default:$(()=>[Ke(" 邮件服务测试 ")]),_:1},8,["onClick","loading"])])]),_:1})):P("",!0),I(S,{class:"mt-2",type:"primary",onClick:r.handleSave,loading:n(p)},{default:$(()=>[Ke(" 提交保存 ")]),_:1},8,["onClick","loading"])]),_:1})}}});const vs=W({__name:"UploadFile",props:{multiple:{type:Boolean,default:!0},accept:{default:void 0},disabled:{type:Boolean,default:!1},limit:{default:void 0},listType:{default:void 0},fileList:{default:void 0}},emits:["upload","uploadList"],setup(e,{emit:t}){var b;const l=e,o="http://127.0.0.1:5020/",p=N(),u={Authorization:(b=Mn().login)==null?void 0:b.token},i=E({get(){return l.fileList},set(O){return O}}),v=O=>{},g=(O,h)=>{},S=(O,h,A)=>{O.code===200?(Me.success(O.msg),t("upload",O.data.path,p.value),t("uploadList",A)):Me.error(O.msg)},y=(O,h,A)=>{Me.error("上传失败,请检查后端存储配置是否最正常")},c=(O,h,A)=>{},m=(O,h)=>{},d=(O,h)=>{Me.warning(`最多只能上传${l.limit}个文件`)},s=O=>{},C=(O,h)=>Bn.confirm(`确定删除文件 ${O.name} ?`,"删除文件",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(()=>!0,()=>!1);return(O,h)=>{const A=os;return w(),F(A,{ref_key:"uploadRef",ref:p,"file-list":n(i),"onUpdate:fileList":h[0]||(h[0]=M=>Wl(i)?i.value=M:null),class:"upload",disabled:O.disabled,action:`${n(o)}api/file/upload`,headers:u,multiple:O.multiple,limit:O.limit,listType:O.listType,accept:O.accept,"on-preview":v,"on-remove":g,"on-success":S,"on-error":y,"on-progress":c,"on-change":m,"on-exceed":d,"before-upload":s,"before-remove":C},{default:$(()=>[z(O.$slots,"default",{},void 0,!0)]),_:3},8,["file-list","disabled","action","multiple","limit","listType","accept"])}}});const ms=Zt(vs,[["__scopeId","data-v-2ab32054"]]);const gs=D("h3",null,"站点信息",-1),hs=W({__name:"SiteConfig",setup(e){const t=Un(),{siteConfig:l}=Nn(t),o=N(),p=N(!1),r={handleSave:async()=>{p.value=!0;const u=await qe.save("site_config",void 0,JSON.stringify(t.siteConfig));rt(u),p.value=!1},handleUpload:u=>{o.value=u,document.querySelector("#uploadRef").click()},uploadSuccess:u=>{Kn(t.siteConfig,o.value,u)}};return(u,i)=>{const v=Jt,g=jl,S=zl,y=oa,c=Gl,m=Hl,d=ms,s=xt;return w(),F(s,{class:"box-card cus-box-card",shadow:"hover"},{header:$(()=>[gs]),default:$(()=>[n(l)?(w(),F(c,{key:0,style:{"max-width":"800px"}},{default:$(()=>[I(g,{label:"站点名字"},{default:$(()=>[I(v,{modelValue:n(l).site_name,"onUpdate:modelValue":i[0]||(i[0]=C=>n(l).site_name=C),placeholder:"站点名字"},null,8,["modelValue"])]),_:1}),I(g,{label:"站点logo"},{default:$(()=>[I(v,{type:"text",modelValue:n(l).logo,"onUpdate:modelValue":i[2]||(i[2]=C=>n(l).logo=C),placeholder:"请输入图片url或上传"},{append:$(()=>[I(S,{onClick:i[1]||(i[1]=C=>r.handleUpload("logo")),name:"upload2"})]),_:1},8,["modelValue"])]),_:1}),I(g,{label:"站点描述"},{default:$(()=>[I(v,{modelValue:n(l).description,"onUpdate:modelValue":i[3]||(i[3]=C=>n(l).description=C),placeholder:"站点描述"},null,8,["modelValue"])]),_:1}),I(g,{label:"系统描述"},{default:$(()=>[I(v,{modelValue:n(l).sysdesc,"onUpdate:modelValue":i[4]||(i[4]=C=>n(l).sysdesc=C),type:"textarea",placeholder:"站点描述",autosize:{minRows:3,maxRows:12}},null,8,["modelValue"])]),_:1}),I(g,{label:"站点标签"},{default:$(()=>[I(y,{modelValue:n(l).tags,"onUpdate:modelValue":i[5]||(i[5]=C=>n(l).tags=C),multiple:"",filterable:"","allow-create":"","default-first-option":"","reserve-keyword":!1,placeholder:"站点标签",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})):P("",!0),I(m,{class:"mt-2",type:"primary",onClick:r.handleSave,loading:n(p)},{default:$(()=>[Ke(" 提交保存 ")]),_:1},8,["onClick","loading"]),Ee(I(d,{accept:"image/*",onUpload:r.uploadSuccess},{default:$(()=>[I(m,{type:"primary",id:"uploadRef"},{default:$(()=>[Ke("点击上传")]),_:1})]),_:1},8,["onUpload"]),[[ct,!1]])]),_:1})}}}),ys={};function bs(e,t){const l=hs,o=fs,p=ds;return w(),R("div",null,[I(l),I(o,{class:"mt-2"}),I(p,{class:"mt-2"})])}const Es=Zt(ys,[["render",bs]]);export{Es as default};
