import{az as Nl,aA as Pt,aB as Kl,aC as zt,aD as ql,aE as _t,aF as jt,aG as Wl,aH as Hl,M as hl,aI as zl,a as Me,c as $,aJ as Je,aK as le,G as Y,h as s,aL as _l,J as Mt,_ as de,d as W,P as ee,a3 as et,aM as Bt,ah as yl,H as X,R as Te,X as tt,o as T,f as R,r as N,g as U,t as x,n as E,aN as j,z as q,I as Vt,aO as bl,p as G,u as lt,O as jl,aP as Be,aQ as Gl,aR as Ql,aS as Sl,aT as me,aU as Fe,af as Xl,aV as Tt,aW as Ye,aX as Gt,U as he,aY as Ze,aZ as Jl,a_ as Yl,ae as Cl,a9 as Ol,a$ as Zl,b0 as xl,E as ge,b1 as en,b2 as tn,i as Qt,b3 as wl,b4 as ln,b5 as nn,Q as Ut,b6 as on,b7 as fe,b8 as an,j as D,w as L,k as M,Y as Xt,av as De,aw as Xe,m as I,a4 as J,b9 as sn,W as It,l as At,a0 as Nt,ak as Tl,b as Ee,s as V,ba as rn,bb as El,ai as $l,aj as Ll,bc as Kt,bd as kl,be as Rt,bf as z,bg as nt,bh as un,bi as dn,bj as cn,bk as pn,bl as fn,bm as vn,bn as mn,N as gn,au as hn,V as Jt,a7 as yn,bo as bn,am as Ge,bp as Sn,ad as Cn,ab as On,ac as wn,a5 as Yt,ay as Tn,a6 as En,bq as $n,br as Ln,aa as kn}from"./index-6c108ddb.js";import{E as Pn}from"./card-7c12a8fc.js";import{b as In,U as Zt,g as xt,c as el,i as tl,S as Et,d as An,E as Rn,a as Fn}from"./form-item-218342d5.js";import{E as Dn,t as Mn}from"./tag-f56ab29b.js";var Bn=/\s/;function Vn(e){for(var t=e.length;t--&&Bn.test(e.charAt(t)););return t}var Un=/^\s+/;function Nn(e){return e&&e.slice(0,Vn(e)+1).replace(Un,"")}var ll=0/0,Kn=/^[-+]0x[0-9a-f]+$/i,qn=/^0b[01]+$/i,Wn=/^0o[0-7]+$/i,Hn=parseInt;function nl(e){if(typeof e=="number")return e;if(Nl(e))return ll;if(Pt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Pt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Nn(e);var l=qn.test(e);return l||Wn.test(e)?Hn(e.slice(2),l?2:8):Kn.test(e)?ll:+e}var zn=1,_n=4;function ol(e){return In(e,zn|_n)}var jn="__lodash_hash_undefined__";function Gn(e){return this.__data__.set(e,jn),this}function Qn(e){return this.__data__.has(e)}function xe(e){var t=-1,l=e==null?0:e.length;for(this.__data__=new Kl;++t<l;)this.add(e[t])}xe.prototype.add=xe.prototype.push=Gn;xe.prototype.has=Qn;function Xn(e,t){for(var l=-1,a=e==null?0:e.length;++l<a;)if(t(e[l],l,e))return!0;return!1}function Jn(e,t){return e.has(t)}var Yn=1,Zn=2;function Pl(e,t,l,a,f,i){var r=l&Yn,p=e.length,v=t.length;if(p!=v&&!(r&&v>p))return!1;var g=i.get(e),C=i.get(t);if(g&&C)return g==t&&C==e;var h=-1,c=!0,y=l&Zn?new xe:void 0;for(i.set(e,t),i.set(t,e);++h<p;){var u=e[h],n=t[h];if(a)var S=r?a(n,u,h,t,e,i):a(u,n,h,e,t,i);if(S!==void 0){if(S)continue;c=!1;break}if(y){if(!Xn(t,function(m,w){if(!Jn(y,w)&&(u===m||f(u,m,l,a,i)))return y.push(w)})){c=!1;break}}else if(!(u===n||f(u,n,l,a,i))){c=!1;break}}return i.delete(e),i.delete(t),c}function xn(e){var t=-1,l=Array(e.size);return e.forEach(function(a,f){l[++t]=[f,a]}),l}function eo(e){var t=-1,l=Array(e.size);return e.forEach(function(a){l[++t]=a}),l}var to=1,lo=2,no="[object Boolean]",oo="[object Date]",ao="[object Error]",so="[object Map]",io="[object Number]",ro="[object RegExp]",uo="[object Set]",co="[object String]",po="[object Symbol]",fo="[object ArrayBuffer]",vo="[object DataView]",al=zt?zt.prototype:void 0,$t=al?al.valueOf:void 0;function mo(e,t,l,a,f,i,r){switch(l){case vo:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case fo:return!(e.byteLength!=t.byteLength||!i(new Zt(e),new Zt(t)));case no:case oo:case io:return ql(+e,+t);case ao:return e.name==t.name&&e.message==t.message;case ro:case co:return e==t+"";case so:var p=xn;case uo:var v=a&to;if(p||(p=eo),e.size!=t.size&&!v)return!1;var g=r.get(e);if(g)return g==t;a|=lo,r.set(e,t);var C=Pl(p(e),p(t),a,f,i,r);return r.delete(e),C;case po:if($t)return $t.call(e)==$t.call(t)}return!1}var go=1,ho=Object.prototype,yo=ho.hasOwnProperty;function bo(e,t,l,a,f,i){var r=l&go,p=xt(e),v=p.length,g=xt(t),C=g.length;if(v!=C&&!r)return!1;for(var h=v;h--;){var c=p[h];if(!(r?c in t:yo.call(t,c)))return!1}var y=i.get(e),u=i.get(t);if(y&&u)return y==t&&u==e;var n=!0;i.set(e,t),i.set(t,e);for(var S=r;++h<v;){c=p[h];var m=e[c],w=t[c];if(a)var b=r?a(w,m,c,t,e,i):a(m,w,c,e,t,i);if(!(b===void 0?m===w||f(m,w,l,a,i):b)){n=!1;break}S||(S=c=="constructor")}if(n&&!S){var A=e.constructor,F=t.constructor;A!=F&&"constructor"in e&&"constructor"in t&&!(typeof A=="function"&&A instanceof A&&typeof F=="function"&&F instanceof F)&&(n=!1)}return i.delete(e),i.delete(t),n}var So=1,sl="[object Arguments]",il="[object Array]",Qe="[object Object]",Co=Object.prototype,rl=Co.hasOwnProperty;function Oo(e,t,l,a,f,i){var r=_t(e),p=_t(t),v=r?il:el(e),g=p?il:el(t);v=v==sl?Qe:v,g=g==sl?Qe:g;var C=v==Qe,h=g==Qe,c=v==g;if(c&&tl(e)){if(!tl(t))return!1;r=!0,C=!1}if(c&&!C)return i||(i=new Et),r||An(e)?Pl(e,t,l,a,f,i):mo(e,t,v,l,a,f,i);if(!(l&So)){var y=C&&rl.call(e,"__wrapped__"),u=h&&rl.call(t,"__wrapped__");if(y||u){var n=y?e.value():e,S=u?t.value():t;return i||(i=new Et),f(n,S,l,a,i)}}return c?(i||(i=new Et),bo(e,t,l,a,f,i)):!1}function Il(e,t,l,a,f){return e===t?!0:e==null||t==null||!jt(e)&&!jt(t)?e!==e&&t!==t:Oo(e,t,l,a,Il,f)}var wo=function(){return Wl.Date.now()};const Lt=wo;var To="Expected a function",Eo=Math.max,$o=Math.min;function ul(e,t,l){var a,f,i,r,p,v,g=0,C=!1,h=!1,c=!0;if(typeof e!="function")throw new TypeError(To);t=nl(t)||0,Pt(l)&&(C=!!l.leading,h="maxWait"in l,i=h?Eo(nl(l.maxWait)||0,t):i,c="trailing"in l?!!l.trailing:c);function y(k){var B=a,te=f;return a=f=void 0,g=k,r=e.apply(te,B),r}function u(k){return g=k,p=setTimeout(m,t),C?y(k):r}function n(k){var B=k-v,te=k-g,ae=t-B;return h?$o(ae,i-te):ae}function S(k){var B=k-v,te=k-g;return v===void 0||B>=t||B<0||h&&te>=i}function m(){var k=Lt();if(S(k))return w(k);p=setTimeout(m,n(k))}function w(k){return p=void 0,c&&a?y(k):(a=f=void 0,r)}function b(){p!==void 0&&clearTimeout(p),g=0,a=v=f=p=void 0}function A(){return p===void 0?r:w(Lt())}function F(){var k=Lt(),B=S(k);if(a=arguments,f=this,v=k,B){if(p===void 0)return u(v);if(h)return clearTimeout(p),p=setTimeout(m,t),y(v)}return p===void 0&&(p=setTimeout(m,t)),r}return F.cancel=b,F.flush=A,F}function Ft(e,t){return Il(e,t)}const Lo=e=>Hl[e||"default"],ko=e=>({focus:()=>{var t,l;(l=(t=e.value)==null?void 0:t.focus)==null||l.call(t)}}),ve=new Map;let dl;hl&&(document.addEventListener("mousedown",e=>dl=e),document.addEventListener("mouseup",e=>{for(const t of ve.values())for(const{documentHandler:l}of t)l(e,dl)}));function cl(e,t){let l=[];return Array.isArray(t.arg)?l=t.arg:zl(t.arg)&&l.push(t.arg),function(a,f){const i=t.instance.popperRef,r=a.target,p=f==null?void 0:f.target,v=!t||!t.instance,g=!r||!p,C=e.contains(r)||e.contains(p),h=e===r,c=l.length&&l.some(u=>u==null?void 0:u.contains(r))||l.length&&l.includes(p),y=i&&(i.contains(r)||i.contains(p));v||g||C||h||c||y||t.value(a,f)}}const Po={beforeMount(e,t){ve.has(e)||ve.set(e,[]),ve.get(e).push({documentHandler:cl(e,t),bindingFn:t.value})},updated(e,t){ve.has(e)||ve.set(e,[]);const l=ve.get(e),a=l.findIndex(i=>i.bindingFn===t.oldValue),f={documentHandler:cl(e,t),bindingFn:t.value};a>=0?l.splice(a,1,f):l.push(f)},unmounted(e){ve.delete(e)}},Al=Symbol("ElSelectGroup"),ot=Symbol("ElSelect");function Io(e,t){const l=Me(ot),a=Me(Al,{disabled:!1}),f=$(()=>Object.prototype.toString.call(e.value).toLowerCase()==="[object object]"),i=$(()=>l.props.multiple?h(l.props.modelValue,e.value):c(e.value,l.props.modelValue)),r=$(()=>{if(l.props.multiple){const n=l.props.modelValue||[];return!i.value&&n.length>=l.props.multipleLimit&&l.props.multipleLimit>0}else return!1}),p=$(()=>e.label||(f.value?"":e.value)),v=$(()=>e.value||e.label||""),g=$(()=>e.disabled||t.groupDisabled||r.value),C=Mt(),h=(n=[],S)=>{if(f.value){const m=l.props.valueKey;return n&&n.some(w=>Je(le(w,m))===le(S,m))}else return n&&n.includes(S)},c=(n,S)=>{if(f.value){const{valueKey:m}=l.props;return le(n,m)===le(S,m)}else return n===S},y=()=>{!e.disabled&&!a.disabled&&(l.hoverIndex=l.optionsArray.indexOf(C.proxy))};Y(()=>p.value,()=>{!e.created&&!l.props.remote&&l.setSelected()}),Y(()=>e.value,(n,S)=>{const{remote:m,valueKey:w}=l.props;if(Object.is(n,S)||(l.onOptionDestroy(S,C.proxy),l.onOptionCreate(C.proxy)),!e.created&&!m){if(w&&typeof n=="object"&&typeof S=="object"&&n[w]===S[w])return;l.setSelected()}}),Y(()=>a.disabled,()=>{t.groupDisabled=a.disabled},{immediate:!0});const{queryChange:u}=Je(l);return Y(u,n=>{const{query:S}=s(n),m=new RegExp(_l(S),"i");t.visible=m.test(p.value)||e.created,t.visible||l.filteredOptionsCount--},{immediate:!0}),{select:l,currentLabel:p,currentValue:v,itemSelected:i,isDisabled:g,hoverItem:y}}const Ao=W({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(e){const t=ee("select"),l=$(()=>[t.be("dropdown","item"),t.is("disabled",s(r)),{selected:s(i),hover:s(C)}]),a=et({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:f,itemSelected:i,isDisabled:r,select:p,hoverItem:v}=Io(e,a),{visible:g,hover:C}=Bt(a),h=Mt().proxy;p.onOptionCreate(h),yl(()=>{const y=h.value,{selected:u}=p,S=(p.props.multiple?u:[u]).some(m=>m.value===h.value);X(()=>{p.cachedOptions.get(y)===h&&!S&&p.cachedOptions.delete(y)}),p.onOptionDestroy(y,h)});function c(){e.disabled!==!0&&a.groupDisabled!==!0&&p.handleOptionSelect(h)}return{ns:t,containerKls:l,currentLabel:f,itemSelected:i,isDisabled:r,select:p,hoverItem:v,visible:g,hover:C,selectOptionClick:c,states:a}}});function Ro(e,t,l,a,f,i){return Te((T(),R("li",{class:E(e.containerKls),onMouseenter:t[0]||(t[0]=(...r)=>e.hoverItem&&e.hoverItem(...r)),onClick:t[1]||(t[1]=j((...r)=>e.selectOptionClick&&e.selectOptionClick(...r),["stop"]))},[N(e.$slots,"default",{},()=>[U("span",null,x(e.currentLabel),1)])],34)),[[tt,e.visible]])}var qt=de(Ao,[["render",Ro],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const Fo=W({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=Me(ot),t=ee("select"),l=$(()=>e.props.popperClass),a=$(()=>e.props.multiple),f=$(()=>e.props.fitInputWidth),i=q("");function r(){var p;i.value=`${(p=e.selectWrapper)==null?void 0:p.offsetWidth}px`}return Vt(()=>{r(),bl(e.selectWrapper,r)}),{ns:t,minWidth:i,popperClass:l,isMultiple:a,isFitInputWidth:f}}});function Do(e,t,l,a,f,i){return T(),R("div",{class:E([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:G({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[N(e.$slots,"default")],6)}var Mo=de(Fo,[["render",Do],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function Bo(e){const{t}=lt();return et({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:t("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,prefixWidth:11,mouseEnter:!1})}let kt=!1;const Vo=(e,t,l)=>{const{t:a}=lt(),f=ee("select");jl({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},$(()=>e.suffixTransition===!1));const i=q(null),r=q(null),p=q(null),v=q(null),g=q(null),C=q(null),h=q(null),c=q(null),y=q(-1),u=Be({query:""}),n=Be(""),S=q([]);let m=0;const{form:w,formItem:b}=Gl(),A=$(()=>!e.filterable||e.multiple||!t.visible),F=$(()=>e.disabled||(w==null?void 0:w.disabled)),k=$(()=>{const o=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:e.modelValue!==void 0&&e.modelValue!==null&&e.modelValue!=="";return e.clearable&&!F.value&&t.inputHovering&&o}),B=$(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),te=$(()=>f.is("reverse",B.value&&t.visible&&e.suffixTransition)),ae=$(()=>e.remote?300:0),se=$(()=>e.loading?e.loadingText||a("el.select.loading"):e.remote&&t.query===""&&t.options.size===0?!1:e.filterable&&t.query&&t.options.size>0&&t.filteredOptionsCount===0?e.noMatchText||a("el.select.noMatch"):t.options.size===0?e.noDataText||a("el.select.noData"):null),K=$(()=>{const o=Array.from(t.options.values()),d=[];return S.value.forEach(O=>{const P=o.findIndex(H=>H.currentLabel===O);P>-1&&d.push(o[P])}),d.length?d:o}),ye=$(()=>Array.from(t.cachedOptions.values())),ie=$(()=>{const o=K.value.filter(d=>!d.created).some(d=>d.currentLabel===t.query);return e.filterable&&e.allowCreate&&t.query!==""&&!o}),be=Ql(),at=$(()=>["small"].includes(be.value)?"small":"default"),st=$({get(){return t.visible&&se.value!==!1},set(o){t.visible=o}});Y([()=>F.value,()=>be.value,()=>w==null?void 0:w.size],()=>{X(()=>{ne()})}),Y(()=>e.placeholder,o=>{t.cachedPlaceHolder=t.currentPlaceholder=o,e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(t.currentPlaceholder="")}),Y(()=>e.modelValue,(o,d)=>{e.multiple&&(ne(),o&&o.length>0||r.value&&t.query!==""?t.currentPlaceholder="":t.currentPlaceholder=t.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(t.query="",ce(t.query))),$e(),e.filterable&&!e.multiple&&(t.inputLength=20),!Ft(o,d)&&e.validateEvent&&(b==null||b.validate("change").catch(O=>Sl()))},{flush:"post",deep:!0}),Y(()=>t.visible,o=>{var d,O,P,H,_;o?((O=(d=v.value)==null?void 0:d.updatePopper)==null||O.call(d),e.filterable&&(t.filteredOptionsCount=t.optionsCount,t.query=e.remote?"":t.selectedLabel,(H=(P=p.value)==null?void 0:P.focus)==null||H.call(P),e.multiple?(_=r.value)==null||_.focus():t.selectedLabel&&(t.currentPlaceholder=`${t.selectedLabel}`,t.selectedLabel=""),ce(t.query),!e.multiple&&!e.remote&&(u.value.query="",Fe(u),Fe(n)))):(e.filterable&&(me(e.filterMethod)&&e.filterMethod(""),me(e.remoteMethod)&&e.remoteMethod("")),r.value&&r.value.blur(),t.query="",t.previousQuery=null,t.selectedLabel="",t.inputLength=20,t.menuVisibleOnFocus=!1,it(),X(()=>{r.value&&r.value.value===""&&t.selected.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)}),e.multiple||(t.selected&&(e.filterable&&e.allowCreate&&t.createdSelected&&t.createdLabel?t.selectedLabel=t.createdLabel:t.selectedLabel=t.selected.currentLabel,e.filterable&&(t.query=t.selectedLabel)),e.filterable&&(t.currentPlaceholder=t.cachedPlaceHolder))),l.emit("visible-change",o)}),Y(()=>t.options.entries(),()=>{var o,d,O;if(!hl)return;(d=(o=v.value)==null?void 0:o.updatePopper)==null||d.call(o),e.multiple&&ne();const P=((O=h.value)==null?void 0:O.querySelectorAll("input"))||[];Array.from(P).includes(document.activeElement)||$e(),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&Ue()},{flush:"post"}),Y(()=>t.hoverIndex,o=>{Xl(o)&&o>-1?y.value=K.value[o]||{}:y.value={},K.value.forEach(d=>{d.hover=y.value===d})});const ne=()=>{X(()=>{var o,d;if(!i.value)return;const O=i.value.$el.querySelector("input");m=m||(O.clientHeight>0?O.clientHeight+2:0);const P=C.value,H=Lo(be.value||(w==null?void 0:w.size)),_=be.value||H===m||m<=0?H:m;!(O.offsetParent===null)&&(O.style.height=`${(t.selected.length===0?_:Math.max(P?P.clientHeight+(P.clientHeight>_?6:0):0,_))-2}px`),t.visible&&se.value!==!1&&((d=(o=v.value)==null?void 0:o.updatePopper)==null||d.call(o))})},ce=async o=>{if(!(t.previousQuery===o||t.isOnComposition)){if(t.previousQuery===null&&(me(e.filterMethod)||me(e.remoteMethod))){t.previousQuery=o;return}t.previousQuery=o,X(()=>{var d,O;t.visible&&((O=(d=v.value)==null?void 0:d.updatePopper)==null||O.call(d))}),t.hoverIndex=-1,e.multiple&&e.filterable&&X(()=>{const d=r.value.value.length*15+20;t.inputLength=e.collapseTags?Math.min(50,d):d,Ve(),ne()}),e.remote&&me(e.remoteMethod)?(t.hoverIndex=-1,e.remoteMethod(o)):me(e.filterMethod)?(e.filterMethod(o),Fe(n)):(t.filteredOptionsCount=t.optionsCount,u.value.query=o,Fe(u),Fe(n)),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&(await X(),Ue())}},Ve=()=>{t.currentPlaceholder!==""&&(t.currentPlaceholder=r.value.value?"":t.cachedPlaceHolder)},Ue=()=>{const o=K.value.filter(P=>P.visible&&!P.disabled&&!P.states.groupDisabled),d=o.find(P=>P.created),O=o[0];t.hoverIndex=We(K.value,d||O)},$e=()=>{var o;if(e.multiple)t.selectedLabel="";else{const O=Ne(e.modelValue);(o=O.props)!=null&&o.created?(t.createdLabel=O.props.value,t.createdSelected=!0):t.createdSelected=!1,t.selectedLabel=O.currentLabel,t.selected=O,e.filterable&&(t.query=t.selectedLabel);return}const d=[];Array.isArray(e.modelValue)&&e.modelValue.forEach(O=>{d.push(Ne(O))}),t.selected=d,X(()=>{ne()})},Ne=o=>{let d;const O=Tt(o).toLowerCase()==="object",P=Tt(o).toLowerCase()==="null",H=Tt(o).toLowerCase()==="undefined";for(let ue=t.cachedOptions.size-1;ue>=0;ue--){const Z=ye.value[ue];if(O?le(Z.value,e.valueKey)===le(o,e.valueKey):Z.value===o){d={value:o,currentLabel:Z.currentLabel,isDisabled:Z.isDisabled};break}}if(d)return d;const _=O?o.label:!P&&!H?o:"",re={value:o,currentLabel:_};return e.multiple&&(re.hitState=!1),re},it=()=>{setTimeout(()=>{const o=e.valueKey;e.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map(d=>K.value.findIndex(O=>le(O,o)===le(d,o)))):t.hoverIndex=-1:t.hoverIndex=K.value.findIndex(d=>we(d)===we(t.selected))},300)},rt=()=>{var o,d;ut(),(d=(o=v.value)==null?void 0:o.updatePopper)==null||d.call(o),e.multiple&&ne()},ut=()=>{var o;t.inputWidth=(o=i.value)==null?void 0:o.$el.offsetWidth},dt=()=>{e.filterable&&t.query!==t.selectedLabel&&(t.query=t.selectedLabel,ce(t.query))},ct=ul(()=>{dt()},ae.value),pt=ul(o=>{ce(o.target.value)},ae.value),Se=o=>{Ft(e.modelValue,o)||l.emit(Cl,o)},Oe=o=>{if(o.code!==Gt.delete){if(o.target.value.length<=0&&!ke()){const d=e.modelValue.slice();d.pop(),l.emit(he,d),Se(d)}o.target.value.length===1&&e.modelValue.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)}},Ke=(o,d)=>{const O=t.selected.indexOf(d);if(O>-1&&!F.value){const P=e.modelValue.slice();P.splice(O,1),l.emit(he,P),Se(P),l.emit("remove-tag",d.value)}o.stopPropagation()},qe=o=>{o.stopPropagation();const d=e.multiple?[]:"";if(!Ze(d))for(const O of t.selected)O.isDisabled&&d.push(O.value);l.emit(he,d),Se(d),t.hoverIndex=-1,t.visible=!1,l.emit("clear")},Le=o=>{var d;if(e.multiple){const O=(e.modelValue||[]).slice(),P=We(O,o.value);P>-1?O.splice(P,1):(e.multipleLimit<=0||O.length<e.multipleLimit)&&O.push(o.value),l.emit(he,O),Se(O),o.created&&(t.query="",ce(""),t.inputLength=20),e.filterable&&((d=r.value)==null||d.focus())}else l.emit(he,o.value),Se(o.value),t.visible=!1;ft(),!t.visible&&X(()=>{pe(o)})},We=(o=[],d)=>{if(!Ye(d))return o.indexOf(d);const O=e.valueKey;let P=-1;return o.some((H,_)=>Je(le(H,O))===le(d,O)?(P=_,!0):!1),P},ft=()=>{const o=r.value||i.value;o&&(o==null||o.focus())},pe=o=>{var d,O,P,H,_;const re=Array.isArray(o)?o[0]:o;let ue=null;if(re!=null&&re.value){const Z=K.value.filter(je=>je.value===re.value);Z.length>0&&(ue=Z[0].$el)}if(v.value&&ue){const Z=(H=(P=(O=(d=v.value)==null?void 0:d.popperRef)==null?void 0:O.contentRef)==null?void 0:P.querySelector)==null?void 0:H.call(P,`.${f.be("dropdown","wrap")}`);Z&&Jl(Z,ue)}(_=c.value)==null||_.handleScroll()},vt=o=>{t.optionsCount++,t.filteredOptionsCount++,t.options.set(o.value,o),t.cachedOptions.set(o.value,o)},mt=(o,d)=>{t.options.get(o)===d&&(t.optionsCount--,t.filteredOptionsCount--,t.options.delete(o))},gt=o=>{o.code!==Gt.backspace&&ke(!1),t.inputLength=r.value.value.length*15+20,ne()},ke=o=>{if(!Array.isArray(t.selected))return;const d=t.selected[t.selected.length-1];if(d)return o===!0||o===!1?(d.hitState=o,o):(d.hitState=!d.hitState,d.hitState)},ht=o=>{const d=o.target.value;if(o.type==="compositionend")t.isOnComposition=!1,X(()=>ce(d));else{const O=d[d.length-1]||"";t.isOnComposition=!Yl(O)}},yt=()=>{X(()=>pe(t.selected))},bt=o=>{kt?kt=!1:((e.automaticDropdown||e.filterable)&&(e.filterable&&!t.visible&&(t.menuVisibleOnFocus=!0),t.visible=!0),l.emit("focus",o))},St=()=>{var o,d,O;t.visible=!1,(o=i.value)==null||o.blur(),(O=(d=p.value)==null?void 0:d.blur)==null||O.call(d)},oe=o=>{setTimeout(()=>{var d;if((d=v.value)!=null&&d.isFocusInsideContent()){kt=!0;return}t.visible&&Ie(),l.emit("blur",o)})},Pe=o=>{qe(o)},Ie=()=>{t.visible=!1},Ae=o=>{t.visible&&(o.preventDefault(),o.stopPropagation(),t.visible=!1)},He=o=>{var d;o&&!t.mouseEnter||F.value||(t.menuVisibleOnFocus?t.menuVisibleOnFocus=!1:(!v.value||!v.value.isFocusInsideContent())&&(t.visible=!t.visible),t.visible&&((d=r.value||i.value)==null||d.focus()))},Ct=()=>{t.visible?K.value[t.hoverIndex]&&Le(K.value[t.hoverIndex]):He()},we=o=>Ye(o.value)?le(o.value,e.valueKey):o.value,ze=$(()=>K.value.filter(o=>o.visible).every(o=>o.disabled)),Ot=$(()=>t.selected.slice(0,e.maxCollapseTags)),Re=$(()=>t.selected.slice(e.maxCollapseTags)),_e=o=>{if(!t.visible){t.visible=!0;return}if(!(t.options.size===0||t.filteredOptionsCount===0)&&!t.isOnComposition&&!ze.value){o==="next"?(t.hoverIndex++,t.hoverIndex===t.options.size&&(t.hoverIndex=0)):o==="prev"&&(t.hoverIndex--,t.hoverIndex<0&&(t.hoverIndex=t.options.size-1));const d=K.value[t.hoverIndex];(d.disabled===!0||d.states.groupDisabled===!0||!d.visible)&&_e(o),X(()=>pe(y.value))}};return{optionList:S,optionsArray:K,selectSize:be,handleResize:rt,debouncedOnInputChange:ct,debouncedQueryChange:pt,deletePrevTag:Oe,deleteTag:Ke,deleteSelected:qe,handleOptionSelect:Le,scrollToOption:pe,readonly:A,resetInputHeight:ne,showClose:k,iconComponent:B,iconReverse:te,showNewOption:ie,collapseTagSize:at,setSelected:$e,managePlaceholder:Ve,selectDisabled:F,emptyText:se,toggleLastOptionHitState:ke,resetInputState:gt,handleComposition:ht,onOptionCreate:vt,onOptionDestroy:mt,handleMenuEnter:yt,handleFocus:bt,blur:St,handleBlur:oe,handleClearClick:Pe,handleClose:Ie,handleKeydownEscape:Ae,toggleMenu:He,selectOption:Ct,getValueKey:we,navigateOptions:_e,handleDeleteTooltipTag:(o,d)=>{var O,P;Ke(o,d),(P=(O=g.value)==null?void 0:O.updatePopper)==null||P.call(O)},dropMenuVisible:st,queryChange:u,groupQueryChange:n,showTagList:Ot,collapseTagList:Re,reference:i,input:r,iOSInput:p,tooltipRef:v,tagTooltipRef:g,tags:C,selectWrapper:h,scrollbar:c,handleMouseEnter:()=>{t.mouseEnter=!0},handleMouseLeave:()=>{t.mouseEnter=!1}}};var Uo=W({name:"ElOptions",emits:["update-options"],setup(e,{slots:t,emit:l}){let a=[];function f(i,r){if(i.length!==r.length)return!1;for(const[p]of i.entries())if(i[p]!=r[p])return!1;return!0}return()=>{var i,r;const p=(i=t.default)==null?void 0:i.call(t),v=[];function g(C){Array.isArray(C)&&C.forEach(h=>{var c,y,u,n;const S=(c=(h==null?void 0:h.type)||{})==null?void 0:c.name;S==="ElOptionGroup"?g(!Ze(h.children)&&!Array.isArray(h.children)&&me((y=h.children)==null?void 0:y.default)?(u=h.children)==null?void 0:u.default():h.children):S==="ElOption"?v.push((n=h.props)==null?void 0:n.label):Array.isArray(h.children)&&g(h.children)})}return p.length&&g((r=p[0])==null?void 0:r.children),f(v,a)||(a=v,l("update-options",v)),p}}});const pl="ElSelect",No=W({name:pl,componentName:pl,components:{ElInput:Ol,ElSelectMenu:Mo,ElOption:qt,ElOptions:Uo,ElTag:Dn,ElScrollbar:Zl,ElTooltip:xl,ElIcon:ge},directives:{ClickOutside:Po},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:en},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},teleported:tn.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Qt,default:wl},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:Qt,default:ln},tagType:{...Mn.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:nn,default:"bottom-start"}},emits:[he,Cl,"remove-tag","clear","visible-change","focus","blur"],setup(e,t){const l=ee("select"),a=ee("input"),{t:f}=lt(),i=Bo(e),{optionList:r,optionsArray:p,selectSize:v,readonly:g,handleResize:C,collapseTagSize:h,debouncedOnInputChange:c,debouncedQueryChange:y,deletePrevTag:u,deleteTag:n,deleteSelected:S,handleOptionSelect:m,scrollToOption:w,setSelected:b,resetInputHeight:A,managePlaceholder:F,showClose:k,selectDisabled:B,iconComponent:te,iconReverse:ae,showNewOption:se,emptyText:K,toggleLastOptionHitState:ye,resetInputState:ie,handleComposition:be,onOptionCreate:at,onOptionDestroy:st,handleMenuEnter:ne,handleFocus:ce,blur:Ve,handleBlur:Ue,handleClearClick:$e,handleClose:Ne,handleKeydownEscape:it,toggleMenu:rt,selectOption:ut,getValueKey:dt,navigateOptions:ct,handleDeleteTooltipTag:pt,dropMenuVisible:Se,reference:Oe,input:Ke,iOSInput:qe,tooltipRef:Le,tagTooltipRef:We,tags:ft,selectWrapper:pe,scrollbar:vt,queryChange:mt,groupQueryChange:gt,handleMouseEnter:ke,handleMouseLeave:ht,showTagList:yt,collapseTagList:bt}=Vo(e,i,t),{focus:St}=ko(Oe),{inputWidth:oe,selected:Pe,inputLength:Ie,filteredOptionsCount:Ae,visible:He,selectedLabel:Ct,hoverIndex:we,query:ze,inputHovering:Ot,currentPlaceholder:Re,menuVisibleOnFocus:_e,isOnComposition:Wt,options:wt,cachedOptions:Ht,optionsCount:o,prefixWidth:d}=Bt(i),O=$(()=>{const Q=[l.b()],Ce=s(v);return Ce&&Q.push(l.m(Ce)),e.disabled&&Q.push(l.m("disabled")),Q}),P=$(()=>[l.e("tags"),l.is("disabled",s(B))]),H=$(()=>[l.b("tags-wrapper"),{"has-prefix":s(d)&&s(Pe).length}]),_=$(()=>[l.e("input"),l.is(s(v)),l.is("disabled",s(B))]),re=$(()=>[l.e("input"),l.is(s(v)),l.em("input","iOS")]),ue=$(()=>[l.is("empty",!e.allowCreate&&!!s(ze)&&s(Ae)===0)]),Z=$(()=>({maxWidth:`${s(oe)-32}px`,width:"100%"})),je=$(()=>({maxWidth:`${s(oe)>123?s(oe)-123:s(oe)-75}px`})),Vl=$(()=>({marginLeft:`${s(d)}px`,flexGrow:1,width:`${s(Ie)/(s(oe)-32)}%`,maxWidth:`${s(oe)-42}px`}));Ut(ot,et({props:e,options:wt,optionsArray:p,cachedOptions:Ht,optionsCount:o,filteredOptionsCount:Ae,hoverIndex:we,handleOptionSelect:m,onOptionCreate:at,onOptionDestroy:st,selectWrapper:pe,selected:Pe,setSelected:b,queryChange:mt,groupQueryChange:gt})),Vt(()=>{i.cachedPlaceHolder=Re.value=e.placeholder||(()=>f("el.select.placeholder")),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(Re.value=""),bl(pe,C),e.remote&&e.multiple&&A(),X(()=>{const Q=Oe.value&&Oe.value.$el;if(Q&&(oe.value=Q.getBoundingClientRect().width,t.slots.prefix)){const Ce=Q.querySelector(`.${a.e("prefix")}`);d.value=Math.max(Ce.getBoundingClientRect().width+11,30)}}),b()}),e.multiple&&!Array.isArray(e.modelValue)&&t.emit(he,[]),!e.multiple&&Array.isArray(e.modelValue)&&t.emit(he,"");const Ul=$(()=>{var Q,Ce;return(Ce=(Q=Le.value)==null?void 0:Q.popperRef)==null?void 0:Ce.contentRef});return{isIOS:on,onOptionsRendered:Q=>{r.value=Q},prefixWidth:d,selectSize:v,readonly:g,handleResize:C,collapseTagSize:h,debouncedOnInputChange:c,debouncedQueryChange:y,deletePrevTag:u,deleteTag:n,handleDeleteTooltipTag:pt,deleteSelected:S,handleOptionSelect:m,scrollToOption:w,inputWidth:oe,selected:Pe,inputLength:Ie,filteredOptionsCount:Ae,visible:He,selectedLabel:Ct,hoverIndex:we,query:ze,inputHovering:Ot,currentPlaceholder:Re,menuVisibleOnFocus:_e,isOnComposition:Wt,options:wt,resetInputHeight:A,managePlaceholder:F,showClose:k,selectDisabled:B,iconComponent:te,iconReverse:ae,showNewOption:se,emptyText:K,toggleLastOptionHitState:ye,resetInputState:ie,handleComposition:be,handleMenuEnter:ne,handleFocus:ce,blur:Ve,handleBlur:Ue,handleClearClick:$e,handleClose:Ne,handleKeydownEscape:it,toggleMenu:rt,selectOption:ut,getValueKey:dt,navigateOptions:ct,dropMenuVisible:Se,focus:St,reference:Oe,input:Ke,iOSInput:qe,tooltipRef:Le,popperPaneRef:Ul,tags:ft,selectWrapper:pe,scrollbar:vt,wrapperKls:O,tagsKls:P,tagWrapperKls:H,inputKls:_,iOSInputKls:re,scrollbarKls:ue,selectTagsStyle:Z,nsSelect:l,tagTextStyle:je,inputStyle:Vl,handleMouseEnter:ke,handleMouseLeave:ht,showTagList:yt,collapseTagList:bt,tagTooltipRef:We}}}),Ko=["disabled","autocomplete"],qo=["disabled"],Wo={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function Ho(e,t,l,a,f,i){const r=fe("el-tag"),p=fe("el-tooltip"),v=fe("el-icon"),g=fe("el-input"),C=fe("el-option"),h=fe("el-options"),c=fe("el-scrollbar"),y=fe("el-select-menu"),u=an("click-outside");return Te((T(),R("div",{ref:"selectWrapper",class:E(e.wrapperKls),onMouseenter:t[21]||(t[21]=(...n)=>e.handleMouseEnter&&e.handleMouseEnter(...n)),onMouseleave:t[22]||(t[22]=(...n)=>e.handleMouseLeave&&e.handleMouseLeave(...n)),onClick:t[23]||(t[23]=j((...n)=>e.toggleMenu&&e.toggleMenu(...n),["stop"]))},[D(p,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:L(()=>[U("div",{class:"select-trigger",onMouseenter:t[19]||(t[19]=n=>e.inputHovering=!0),onMouseleave:t[20]||(t[20]=n=>e.inputHovering=!1)},[e.multiple?(T(),R("div",{key:0,ref:"tags",class:E(e.tagsKls),style:G(e.selectTagsStyle)},[e.collapseTags&&e.selected.length?(T(),M(Xt,{key:0,onAfterLeave:e.resetInputHeight},{default:L(()=>[U("span",{class:E(e.tagWrapperKls)},[(T(!0),R(De,null,Xe(e.showTagList,n=>(T(),M(r,{key:e.getValueKey(n),closable:!e.selectDisabled&&!n.isDisabled,size:e.collapseTagSize,hit:n.hitState,type:e.tagType,"disable-transitions":"",onClose:S=>e.deleteTag(S,n)},{default:L(()=>[U("span",{class:E(e.nsSelect.e("tags-text")),style:G(e.tagTextStyle)},x(n.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128)),e.selected.length>e.maxCollapseTags?(T(),M(r,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:L(()=>[e.collapseTagsTooltip?(T(),M(p,{key:0,ref:"tagTooltipRef",disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:L(()=>[U("span",{class:E(e.nsSelect.e("tags-text"))},"+ "+x(e.selected.length-e.maxCollapseTags),3)]),content:L(()=>[U("div",{class:E(e.nsSelect.e("collapse-tags"))},[(T(!0),R(De,null,Xe(e.collapseTagList,n=>(T(),R("div",{key:e.getValueKey(n),class:E(e.nsSelect.e("collapse-tag"))},[D(r,{class:"in-tooltip",closable:!e.selectDisabled&&!n.isDisabled,size:e.collapseTagSize,hit:n.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:S=>e.handleDeleteTooltipTag(S,n)},{default:L(()=>[U("span",{class:E(e.nsSelect.e("tags-text")),style:G({maxWidth:e.inputWidth-75+"px"})},x(n.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(T(),R("span",{key:1,class:E(e.nsSelect.e("tags-text"))},"+ "+x(e.selected.length-e.maxCollapseTags),3))]),_:1},8,["size","type"])):I("v-if",!0)],2)]),_:1},8,["onAfterLeave"])):I("v-if",!0),e.collapseTags?I("v-if",!0):(T(),M(Xt,{key:1,onAfterLeave:e.resetInputHeight},{default:L(()=>[U("span",{class:E(e.tagWrapperKls),style:G(e.prefixWidth&&e.selected.length?{marginLeft:`${e.prefixWidth}px`}:"")},[(T(!0),R(De,null,Xe(e.selected,n=>(T(),M(r,{key:e.getValueKey(n),closable:!e.selectDisabled&&!n.isDisabled,size:e.collapseTagSize,hit:n.hitState,type:e.tagType,"disable-transitions":"",onClose:S=>e.deleteTag(S,n)},{default:L(()=>[U("span",{class:E(e.nsSelect.e("tags-text")),style:G({maxWidth:e.inputWidth-75+"px"})},x(n.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],6)]),_:1},8,["onAfterLeave"])),e.filterable&&!e.selectDisabled?Te((T(),R("input",{key:2,ref:"input","onUpdate:modelValue":t[0]||(t[0]=n=>e.query=n),type:"text",class:E(e.inputKls),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:G(e.inputStyle),onFocus:t[1]||(t[1]=(...n)=>e.handleFocus&&e.handleFocus(...n)),onBlur:t[2]||(t[2]=(...n)=>e.handleBlur&&e.handleBlur(...n)),onKeyup:t[3]||(t[3]=(...n)=>e.managePlaceholder&&e.managePlaceholder(...n)),onKeydown:[t[4]||(t[4]=(...n)=>e.resetInputState&&e.resetInputState(...n)),t[5]||(t[5]=J(j(n=>e.navigateOptions("next"),["prevent"]),["down"])),t[6]||(t[6]=J(j(n=>e.navigateOptions("prev"),["prevent"]),["up"])),t[7]||(t[7]=J((...n)=>e.handleKeydownEscape&&e.handleKeydownEscape(...n),["esc"])),t[8]||(t[8]=J(j((...n)=>e.selectOption&&e.selectOption(...n),["stop","prevent"]),["enter"])),t[9]||(t[9]=J((...n)=>e.deletePrevTag&&e.deletePrevTag(...n),["delete"])),t[10]||(t[10]=J(n=>e.visible=!1,["tab"]))],onCompositionstart:t[11]||(t[11]=(...n)=>e.handleComposition&&e.handleComposition(...n)),onCompositionupdate:t[12]||(t[12]=(...n)=>e.handleComposition&&e.handleComposition(...n)),onCompositionend:t[13]||(t[13]=(...n)=>e.handleComposition&&e.handleComposition(...n)),onInput:t[14]||(t[14]=(...n)=>e.debouncedQueryChange&&e.debouncedQueryChange(...n))},null,46,Ko)),[[sn,e.query]]):I("v-if",!0)],6)):I("v-if",!0),I(" fix: https://github.com/element-plus/element-plus/issues/11415 "),e.isIOS&&!e.multiple&&e.filterable&&e.readonly?(T(),R("input",{key:1,ref:"iOSInput",class:E(e.iOSInputKls),disabled:e.selectDisabled,type:"text"},null,10,qo)):I("v-if",!0),D(g,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":t[15]||(t[15]=n=>e.selectedLabel=n),type:"text",placeholder:typeof e.currentPlaceholder=="function"?e.currentPlaceholder():e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:E([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[t[16]||(t[16]=J(j(n=>e.navigateOptions("next"),["stop","prevent"]),["down"])),t[17]||(t[17]=J(j(n=>e.navigateOptions("prev"),["stop","prevent"]),["up"])),J(j(e.selectOption,["stop","prevent"]),["enter"]),J(e.handleKeydownEscape,["esc"]),t[18]||(t[18]=J(n=>e.visible=!1,["tab"]))]},It({suffix:L(()=>[e.iconComponent&&!e.showClose?(T(),M(v,{key:0,class:E([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:L(()=>[(T(),M(At(e.iconComponent)))]),_:1},8,["class"])):I("v-if",!0),e.showClose&&e.clearIcon?(T(),M(v,{key:1,class:E([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:L(()=>[(T(),M(At(e.clearIcon)))]),_:1},8,["class","onClick"])):I("v-if",!0)]),_:2},[e.$slots.prefix?{name:"prefix",fn:L(()=>[U("div",Wo,[N(e.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:L(()=>[D(y,null,{default:L(()=>[Te(D(c,{ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:E(e.scrollbarKls)},{default:L(()=>[e.showNewOption?(T(),M(C,{key:0,value:e.query,created:!0},null,8,["value"])):I("v-if",!0),D(h,{onUpdateOptions:e.onOptionsRendered},{default:L(()=>[N(e.$slots,"default")]),_:3},8,["onUpdateOptions"])]),_:3},8,["wrap-class","view-class","class"]),[[tt,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&e.options.size===0)?(T(),R(De,{key:0},[e.$slots.empty?N(e.$slots,"empty",{key:0}):(T(),R("p",{key:1,class:E(e.nsSelect.be("dropdown","empty"))},x(e.emptyText),3))],64)):I("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[u,e.handleClose,e.popperPaneRef]])}var zo=de(No,[["render",Ho],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const _o=W({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(e){const t=ee("select"),l=q(!0),a=Mt(),f=q([]);Ut(Al,et({...Bt(e)}));const i=Me(ot);Vt(()=>{f.value=r(a.subTree)});const r=v=>{const g=[];return Array.isArray(v.children)&&v.children.forEach(C=>{var h;C.type&&C.type.name==="ElOption"&&C.component&&C.component.proxy?g.push(C.component.proxy):(h=C.children)!=null&&h.length&&g.push(...r(C))}),g},{groupQueryChange:p}=Je(i);return Y(p,()=>{l.value=f.value.some(v=>v.visible===!0)},{flush:"post"}),{visible:l,ns:t}}});function jo(e,t,l,a,f,i){return Te((T(),R("ul",{class:E(e.ns.be("group","wrap"))},[U("li",{class:E(e.ns.be("group","title"))},x(e.label),3),U("li",null,[U("ul",{class:E(e.ns.b("group"))},[N(e.$slots,"default")],2)])],2)),[[tt,e.visible]])}var Rl=de(_o,[["render",jo],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const Go=Nt(zo,{Option:qt,OptionGroup:Rl});Tl(qt);Tl(Rl);const Qo=Ee({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:V(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:V([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:V(Function),default:e=>`${e}%`}}),Xo=["aria-valuenow"],Jo={viewBox:"0 0 100 100"},Yo=["d","stroke","stroke-linecap","stroke-width"],Zo=["d","stroke","opacity","stroke-linecap","stroke-width"],xo={key:0},ea=W({name:"ElProgress"}),ta=W({...ea,props:Qo,setup(e){const t=e,l={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},a=ee("progress"),f=$(()=>({width:`${t.percentage}%`,animationDuration:`${t.duration}s`,backgroundColor:w(t.percentage)})),i=$(()=>(t.strokeWidth/t.width*100).toFixed(1)),r=$(()=>["circle","dashboard"].includes(t.type)?Number.parseInt(`${50-Number.parseFloat(i.value)/2}`,10):0),p=$(()=>{const b=r.value,A=t.type==="dashboard";return`
          M 50 50
          m 0 ${A?"":"-"}${b}
          a ${b} ${b} 0 1 1 0 ${A?"-":""}${b*2}
          a ${b} ${b} 0 1 1 0 ${A?"":"-"}${b*2}
          `}),v=$(()=>2*Math.PI*r.value),g=$(()=>t.type==="dashboard"?.75:1),C=$(()=>`${-1*v.value*(1-g.value)/2}px`),h=$(()=>({strokeDasharray:`${v.value*g.value}px, ${v.value}px`,strokeDashoffset:C.value})),c=$(()=>({strokeDasharray:`${v.value*g.value*(t.percentage/100)}px, ${v.value}px`,strokeDashoffset:C.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),y=$(()=>{let b;return t.color?b=w(t.percentage):b=l[t.status]||l.default,b}),u=$(()=>t.status==="warning"?rn:t.type==="line"?t.status==="success"?El:wl:t.status==="success"?$l:Ll),n=$(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),S=$(()=>t.format(t.percentage));function m(b){const A=100/b.length;return b.map((k,B)=>Ze(k)?{color:k,percentage:(B+1)*A}:k).sort((k,B)=>k.percentage-B.percentage)}const w=b=>{var A;const{color:F}=t;if(me(F))return F(b);if(Ze(F))return F;{const k=m(F);for(const B of k)if(B.percentage>b)return B.color;return(A=k[k.length-1])==null?void 0:A.color}};return(b,A)=>(T(),R("div",{class:E([s(a).b(),s(a).m(b.type),s(a).is(b.status),{[s(a).m("without-text")]:!b.showText,[s(a).m("text-inside")]:b.textInside}]),role:"progressbar","aria-valuenow":b.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[b.type==="line"?(T(),R("div",{key:0,class:E(s(a).b("bar"))},[U("div",{class:E(s(a).be("bar","outer")),style:G({height:`${b.strokeWidth}px`})},[U("div",{class:E([s(a).be("bar","inner"),{[s(a).bem("bar","inner","indeterminate")]:b.indeterminate},{[s(a).bem("bar","inner","striped")]:b.striped},{[s(a).bem("bar","inner","striped-flow")]:b.stripedFlow}]),style:G(s(f))},[(b.showText||b.$slots.default)&&b.textInside?(T(),R("div",{key:0,class:E(s(a).be("bar","innerText"))},[N(b.$slots,"default",{percentage:b.percentage},()=>[U("span",null,x(s(S)),1)])],2)):I("v-if",!0)],6)],6)],2)):(T(),R("div",{key:1,class:E(s(a).b("circle")),style:G({height:`${b.width}px`,width:`${b.width}px`})},[(T(),R("svg",Jo,[U("path",{class:E(s(a).be("circle","track")),d:s(p),stroke:`var(${s(a).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":b.strokeLinecap,"stroke-width":s(i),fill:"none",style:G(s(h))},null,14,Yo),U("path",{class:E(s(a).be("circle","path")),d:s(p),stroke:s(y),fill:"none",opacity:b.percentage?1:0,"stroke-linecap":b.strokeLinecap,"stroke-width":s(i),style:G(s(c))},null,14,Zo)]))],6)),(b.showText||b.$slots.default)&&!b.textInside?(T(),R("div",{key:2,class:E(s(a).e("text")),style:G({fontSize:`${s(n)}px`})},[N(b.$slots,"default",{percentage:b.percentage},()=>[b.status?(T(),M(s(ge),{key:1},{default:L(()=>[(T(),M(At(s(u))))]),_:1})):(T(),R("span",xo,x(s(S)),1))])],6)):I("v-if",!0)],10,Xo))}});var la=de(ta,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const na=Nt(la),Fl=Symbol("uploadContextKey"),oa="ElUpload";class aa extends Error{constructor(t,l,a,f){super(t),this.name="UploadAjaxError",this.status=l,this.method=a,this.url=f}}function fl(e,t,l){let a;return l.response?a=`${l.response.error||l.response}`:l.responseText?a=`${l.responseText}`:a=`fail to ${t.method} ${e} ${l.status}`,new aa(a,l.status,t.method,e)}function sa(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}const ia=e=>{typeof XMLHttpRequest>"u"&&Kt(oa,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,l=e.action;t.upload&&t.upload.addEventListener("progress",i=>{const r=i;r.percent=i.total>0?i.loaded/i.total*100:0,e.onProgress(r)});const a=new FormData;if(e.data)for(const[i,r]of Object.entries(e.data))Array.isArray(r)?a.append(i,...r):a.append(i,r);a.append(e.filename,e.file,e.file.name),t.addEventListener("error",()=>{e.onError(fl(l,e,t))}),t.addEventListener("load",()=>{if(t.status<200||t.status>=300)return e.onError(fl(l,e,t));e.onSuccess(sa(t))}),t.open(e.method,l,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const f=e.headers||{};if(f instanceof Headers)f.forEach((i,r)=>t.setRequestHeader(r,i));else for(const[i,r]of Object.entries(f))kl(r)||t.setRequestHeader(i,String(r));return t.send(a),t},Dl=["text","picture","picture-card"];let ra=1;const Dt=()=>Date.now()+ra++,Ml=Ee({action:{type:String,default:"#"},headers:{type:V(Object)},method:{type:String,default:"post"},data:{type:Object,default:()=>Rt({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},fileList:{type:V(Array),default:()=>Rt([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:Dl,default:"text"},httpRequest:{type:V(Function),default:ia},disabled:Boolean,limit:Number}),ua=Ee({...Ml,beforeUpload:{type:V(Function),default:z},beforeRemove:{type:V(Function)},onRemove:{type:V(Function),default:z},onChange:{type:V(Function),default:z},onPreview:{type:V(Function),default:z},onSuccess:{type:V(Function),default:z},onProgress:{type:V(Function),default:z},onError:{type:V(Function),default:z},onExceed:{type:V(Function),default:z}}),da=Ee({files:{type:V(Array),default:()=>Rt([])},disabled:{type:Boolean,default:!1},handlePreview:{type:V(Function),default:z},listType:{type:String,values:Dl,default:"text"}}),ca={remove:e=>!!e},pa=["onKeydown"],fa=["src"],va=["onClick"],ma=["title"],ga=["onClick"],ha=["onClick"],ya=W({name:"ElUploadList"}),ba=W({...ya,props:da,emits:ca,setup(e,{emit:t}){const{t:l}=lt(),a=ee("upload"),f=ee("icon"),i=ee("list"),r=nt(),p=q(!1),v=g=>{t("remove",g)};return(g,C)=>(T(),M(pn,{tag:"ul",class:E([s(a).b("list"),s(a).bm("list",g.listType),s(a).is("disabled",s(r))]),name:s(i).b()},{default:L(()=>[(T(!0),R(De,null,Xe(g.files,h=>(T(),R("li",{key:h.uid||h.name,class:E([s(a).be("list","item"),s(a).is(h.status),{focusing:p.value}]),tabindex:"0",onKeydown:J(c=>!s(r)&&v(h),["delete"]),onFocus:C[0]||(C[0]=c=>p.value=!0),onBlur:C[1]||(C[1]=c=>p.value=!1),onClick:C[2]||(C[2]=c=>p.value=!1)},[N(g.$slots,"default",{file:h},()=>[g.listType==="picture"||h.status!=="uploading"&&g.listType==="picture-card"?(T(),R("img",{key:0,class:E(s(a).be("list","item-thumbnail")),src:h.url,alt:""},null,10,fa)):I("v-if",!0),h.status==="uploading"||g.listType!=="picture-card"?(T(),R("div",{key:1,class:E(s(a).be("list","item-info"))},[U("a",{class:E(s(a).be("list","item-name")),onClick:j(c=>g.handlePreview(h),["prevent"])},[D(s(ge),{class:E(s(f).m("document"))},{default:L(()=>[D(s(un))]),_:1},8,["class"]),U("span",{class:E(s(a).be("list","item-file-name")),title:h.name},x(h.name),11,ma)],10,va),h.status==="uploading"?(T(),M(s(na),{key:0,type:g.listType==="picture-card"?"circle":"line","stroke-width":g.listType==="picture-card"?6:2,percentage:Number(h.percentage),style:G(g.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):I("v-if",!0)],2)):I("v-if",!0),U("label",{class:E(s(a).be("list","item-status-label"))},[g.listType==="text"?(T(),M(s(ge),{key:0,class:E([s(f).m("upload-success"),s(f).m("circle-check")])},{default:L(()=>[D(s(El))]),_:1},8,["class"])):["picture-card","picture"].includes(g.listType)?(T(),M(s(ge),{key:1,class:E([s(f).m("upload-success"),s(f).m("check")])},{default:L(()=>[D(s($l))]),_:1},8,["class"])):I("v-if",!0)],2),s(r)?I("v-if",!0):(T(),M(s(ge),{key:2,class:E(s(f).m("close")),onClick:c=>v(h)},{default:L(()=>[D(s(Ll))]),_:2},1032,["class","onClick"])),I(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),I(" This is a bug which needs to be fixed "),I(" TODO: Fix the incorrect navigation interaction "),s(r)?I("v-if",!0):(T(),R("i",{key:3,class:E(s(f).m("close-tip"))},x(s(l)("el.upload.deleteTip")),3)),g.listType==="picture-card"?(T(),R("span",{key:4,class:E(s(a).be("list","item-actions"))},[U("span",{class:E(s(a).be("list","item-preview")),onClick:c=>g.handlePreview(h)},[D(s(ge),{class:E(s(f).m("zoom-in"))},{default:L(()=>[D(s(dn))]),_:1},8,["class"])],10,ga),s(r)?I("v-if",!0):(T(),R("span",{key:0,class:E(s(a).be("list","item-delete")),onClick:c=>v(h)},[D(s(ge),{class:E(s(f).m("delete"))},{default:L(()=>[D(s(cn))]),_:1},8,["class"])],10,ha))],2)):I("v-if",!0)])],42,pa))),128)),N(g.$slots,"append")]),_:3},8,["class","name"]))}});var vl=de(ba,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const Sa=Ee({disabled:{type:Boolean,default:!1}}),Ca={file:e=>fn(e)},Oa=["onDrop","onDragover"],Bl="ElUploadDrag",wa=W({name:Bl}),Ta=W({...wa,props:Sa,emits:Ca,setup(e,{emit:t}){const l=Me(Fl);l||Kt(Bl,"usage: <el-upload><el-upload-dragger /></el-upload>");const a=ee("upload"),f=q(!1),i=nt(),r=v=>{if(i.value)return;f.value=!1,v.stopPropagation();const g=Array.from(v.dataTransfer.files),C=l.accept.value;if(!C){t("file",g);return}const h=g.filter(c=>{const{type:y,name:u}=c,n=u.includes(".")?`.${u.split(".").pop()}`:"",S=y.replace(/\/.*$/,"");return C.split(",").map(m=>m.trim()).filter(m=>m).some(m=>m.startsWith(".")?n===m:/\/\*$/.test(m)?S===m.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(m)?y===m:!1)});t("file",h)},p=()=>{i.value||(f.value=!0)};return(v,g)=>(T(),R("div",{class:E([s(a).b("dragger"),s(a).is("dragover",f.value)]),onDrop:j(r,["prevent"]),onDragover:j(p,["prevent"]),onDragleave:g[0]||(g[0]=j(C=>f.value=!1,["prevent"]))},[N(v.$slots,"default")],42,Oa))}});var Ea=de(Ta,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const $a=Ee({...Ml,beforeUpload:{type:V(Function),default:z},onRemove:{type:V(Function),default:z},onStart:{type:V(Function),default:z},onSuccess:{type:V(Function),default:z},onProgress:{type:V(Function),default:z},onError:{type:V(Function),default:z},onExceed:{type:V(Function),default:z}}),La=["onKeydown"],ka=["name","multiple","accept"],Pa=W({name:"ElUploadContent",inheritAttrs:!1}),Ia=W({...Pa,props:$a,setup(e,{expose:t}){const l=e,a=ee("upload"),f=nt(),i=Be({}),r=Be(),p=u=>{if(u.length===0)return;const{autoUpload:n,limit:S,fileList:m,multiple:w,onStart:b,onExceed:A}=l;if(S&&m.length+u.length>S){A(u,m);return}w||(u=u.slice(0,1));for(const F of u){const k=F;k.uid=Dt(),b(k),n&&v(k)}},v=async u=>{if(r.value.value="",!l.beforeUpload)return g(u);let n,S={};try{const w=l.data,b=l.beforeUpload(u);S=Ye(l.data)?ol(l.data):l.data,n=await b,Ye(l.data)&&Ft(w,S)&&(S=ol(l.data))}catch{n=!1}if(n===!1){l.onRemove(u);return}let m=u;n instanceof Blob&&(n instanceof File?m=n:m=new File([n],u.name,{type:u.type})),g(Object.assign(m,{uid:u.uid}),S)},g=(u,n)=>{const{headers:S,data:m,method:w,withCredentials:b,name:A,action:F,onProgress:k,onSuccess:B,onError:te,httpRequest:ae}=l,{uid:se}=u,K={headers:S||{},withCredentials:b,file:u,data:n??m,method:w,filename:A,action:F,onProgress:ie=>{k(ie,u)},onSuccess:ie=>{B(ie,u),delete i.value[se]},onError:ie=>{te(ie,u),delete i.value[se]}},ye=ae(K);i.value[se]=ye,ye instanceof Promise&&ye.then(K.onSuccess,K.onError)},C=u=>{const n=u.target.files;n&&p(Array.from(n))},h=()=>{f.value||(r.value.value="",r.value.click())},c=()=>{h()};return t({abort:u=>{vn(i.value).filter(u?([S])=>String(u.uid)===S:()=>!0).forEach(([S,m])=>{m instanceof XMLHttpRequest&&m.abort(),delete i.value[S]})},upload:v}),(u,n)=>(T(),R("div",{class:E([s(a).b(),s(a).m(u.listType),s(a).is("drag",u.drag)]),tabindex:"0",onClick:h,onKeydown:J(j(c,["self"]),["enter","space"])},[u.drag?(T(),M(Ea,{key:0,disabled:s(f),onFile:p},{default:L(()=>[N(u.$slots,"default")]),_:3},8,["disabled"])):N(u.$slots,"default",{key:1}),U("input",{ref_key:"inputRef",ref:r,class:E(s(a).e("input")),name:u.name,multiple:u.multiple,accept:u.accept,type:"file",onChange:C,onClick:n[0]||(n[0]=j(()=>{},["stop"]))},null,42,ka)],42,La))}});var ml=de(Ia,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const gl="ElUpload",Aa=e=>{var t;(t=e.url)!=null&&t.startsWith("blob:")&&URL.revokeObjectURL(e.url)},Ra=(e,t)=>{const l=mn(e,"fileList",void 0,{passive:!0}),a=c=>l.value.find(y=>y.uid===c.uid);function f(c){var y;(y=t.value)==null||y.abort(c)}function i(c=["ready","uploading","success","fail"]){l.value=l.value.filter(y=>!c.includes(y.status))}const r=(c,y)=>{const u=a(y);u&&(console.error(c),u.status="fail",l.value.splice(l.value.indexOf(u),1),e.onError(c,u,l.value),e.onChange(u,l.value))},p=(c,y)=>{const u=a(y);u&&(e.onProgress(c,u,l.value),u.status="uploading",u.percentage=Math.round(c.percent))},v=(c,y)=>{const u=a(y);u&&(u.status="success",u.response=c,e.onSuccess(c,u,l.value),e.onChange(u,l.value))},g=c=>{kl(c.uid)&&(c.uid=Dt());const y={name:c.name,percentage:0,status:"ready",size:c.size,raw:c,uid:c.uid};if(e.listType==="picture-card"||e.listType==="picture")try{y.url=URL.createObjectURL(c)}catch(u){Sl(gl,u.message),e.onError(u,y,l.value)}l.value=[...l.value,y],e.onChange(y,l.value)},C=async c=>{const y=c instanceof File?a(c):c;y||Kt(gl,"file to be removed not found");const u=n=>{f(n);const S=l.value;S.splice(S.indexOf(n),1),e.onRemove(n,S),Aa(n)};e.beforeRemove?await e.beforeRemove(y,l.value)!==!1&&u(y):u(y)};function h(){l.value.filter(({status:c})=>c==="ready").forEach(({raw:c})=>{var y;return c&&((y=t.value)==null?void 0:y.upload(c))})}return Y(()=>e.listType,c=>{c!=="picture-card"&&c!=="picture"||(l.value=l.value.map(y=>{const{raw:u,url:n}=y;if(!n&&u)try{y.url=URL.createObjectURL(u)}catch(S){e.onError(S,y,l.value)}return y}))}),Y(l,c=>{for(const y of c)y.uid||(y.uid=Dt()),y.status||(y.status="success")},{immediate:!0,deep:!0}),{uploadFiles:l,abort:f,clearFiles:i,handleError:r,handleProgress:p,handleStart:g,handleSuccess:v,handleRemove:C,submit:h}},Fa=W({name:"ElUpload"}),Da=W({...Fa,props:ua,setup(e,{expose:t}){const l=e,a=gn(),f=nt(),i=Be(),{abort:r,submit:p,clearFiles:v,uploadFiles:g,handleStart:C,handleError:h,handleRemove:c,handleSuccess:y,handleProgress:u}=Ra(l,i),n=$(()=>l.listType==="picture-card"),S=$(()=>({...l,fileList:g.value,onStart:C,onProgress:u,onSuccess:y,onError:h,onRemove:c}));return yl(()=>{g.value.forEach(({url:m})=>{m!=null&&m.startsWith("blob:")&&URL.revokeObjectURL(m)})}),Ut(Fl,{accept:hn(l,"accept")}),t({abort:r,submit:p,clearFiles:v,handleStart:C,handleRemove:c}),(m,w)=>(T(),R("div",null,[s(n)&&m.showFileList?(T(),M(vl,{key:0,disabled:s(f),"list-type":m.listType,files:s(g),"handle-preview":m.onPreview,onRemove:s(c)},It({append:L(()=>[D(ml,Jt({ref_key:"uploadRef",ref:i},s(S)),{default:L(()=>[s(a).trigger?N(m.$slots,"trigger",{key:0}):I("v-if",!0),!s(a).trigger&&s(a).default?N(m.$slots,"default",{key:1}):I("v-if",!0)]),_:3},16)]),_:2},[m.$slots.file?{name:"default",fn:L(({file:b})=>[N(m.$slots,"file",{file:b})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):I("v-if",!0),!s(n)||s(n)&&!m.showFileList?(T(),M(ml,Jt({key:1,ref_key:"uploadRef",ref:i},s(S)),{default:L(()=>[s(a).trigger?N(m.$slots,"trigger",{key:0}):I("v-if",!0),!s(a).trigger&&s(a).default?N(m.$slots,"default",{key:1}):I("v-if",!0)]),_:3},16)):I("v-if",!0),m.$slots.trigger?N(m.$slots,"default",{key:2}):I("v-if",!0),N(m.$slots,"tip"),!s(n)&&m.showFileList?(T(),M(vl,{key:3,disabled:s(f),"list-type":m.listType,files:s(g),"handle-preview":m.onPreview,onRemove:s(c)},It({_:2},[m.$slots.file?{name:"default",fn:L(({file:b})=>[N(m.$slots,"file",{file:b})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):I("v-if",!0)]))}});var Ma=de(Da,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const Ba=Nt(Ma);const Va=W({__name:"UploadFile",props:{multiple:{type:Boolean,default:!0},accept:{default:void 0},disabled:{type:Boolean,default:!1},limit:{default:void 0},listType:{default:void 0},fileList:{default:void 0}},emits:["upload","uploadList"],setup(e,{emit:t}){var m;const l=e,a="http://127.0.0.1:5020/",f=q(),r={Authorization:(m=yn().login)==null?void 0:m.token},p=$({get(){return l.fileList},set(w){return w}}),v=w=>{},g=(w,b)=>{},C=(w,b,A)=>{w.code===200?(Ge.success(w.msg),t("upload",w.data.path,f.value),t("uploadList",A)):Ge.error(w.msg)},h=(w,b,A)=>{Ge.error("上传失败,请检查后端存储配置是否最正常")},c=(w,b,A)=>{},y=(w,b)=>{},u=(w,b)=>{Ge.warning(`最多只能上传${l.limit}个文件`)},n=w=>{},S=(w,b)=>Sn.confirm(`确定删除文件 ${w.name} ?`,"删除文件",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(()=>!0,()=>!1);return(w,b)=>{const A=Ba;return T(),M(A,{ref_key:"uploadRef",ref:f,"file-list":s(p),"onUpdate:fileList":b[0]||(b[0]=F=>bn(p)?p.value=F:null),class:"upload",disabled:w.disabled,action:`${s(a)}api/file/upload`,headers:r,multiple:w.multiple,limit:w.limit,listType:w.listType,accept:w.accept,"on-preview":v,"on-remove":g,"on-success":C,"on-error":h,"on-progress":c,"on-change":y,"on-exceed":u,"before-upload":n,"before-remove":S},{default:L(()=>[N(w.$slots,"default",{},void 0,!0)]),_:3},8,["file-list","disabled","action","multiple","limit","listType","accept"])}}});const Ua=Cn(Va,[["__scopeId","data-v-2ab32054"]]);const za=W({__name:"site",setup(e){const t=On(),{siteConfig:l}=wn(t),a=q(),f={handleSave:async()=>{t.loading=!0;const i=await Tn.save("site_config",void 0,JSON.stringify(t.siteConfig));En(i),t.loading=!1},handleUpload:i=>{a.value=i,document.querySelector("#uploadRef").click()},uploadSuccess:i=>{$n(t.siteConfig,a.value,i)}};return(i,r)=>{const p=Ol,v=Rn,g=Ln,C=Go,h=Fn,c=kn,y=Ua,u=Pn;return T(),M(u,{class:"box-card cus-box-card",shadow:"hover"},{default:L(()=>[s(l)?(T(),M(h,{key:0,style:{"max-width":"800px"}},{default:L(()=>[D(v,{label:"站点名字"},{default:L(()=>[D(p,{modelValue:s(l).site_name,"onUpdate:modelValue":r[0]||(r[0]=n=>s(l).site_name=n),placeholder:"站点名字"},null,8,["modelValue"])]),_:1}),D(v,{label:"站点logo"},{default:L(()=>[D(p,{type:"text",modelValue:s(l).logo,"onUpdate:modelValue":r[2]||(r[2]=n=>s(l).logo=n),placeholder:"请输入图片url或上传"},{append:L(()=>[D(g,{onClick:r[1]||(r[1]=n=>f.handleUpload("logo")),name:"upload2"})]),_:1},8,["modelValue"])]),_:1}),D(v,{label:"站点描述"},{default:L(()=>[D(p,{modelValue:s(l).description,"onUpdate:modelValue":r[3]||(r[3]=n=>s(l).description=n),placeholder:"站点描述"},null,8,["modelValue"])]),_:1}),D(v,{label:"站点标签"},{default:L(()=>[D(C,{modelValue:s(l).tags,"onUpdate:modelValue":r[4]||(r[4]=n=>s(l).tags=n),multiple:"",filterable:"","allow-create":"","default-first-option":"","reserve-keyword":!1,placeholder:"站点标签",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})):I("",!0),D(c,{class:"mt-2",type:"primary",onClick:f.handleSave,loading:s(t).loading},{default:L(()=>[Yt(" 提交保存 ")]),_:1},8,["onClick","loading"]),Te(D(y,{accept:"image/*",onUpload:f.uploadSuccess},{default:L(()=>[D(c,{type:"primary",id:"uploadRef"},{default:L(()=>[Yt("点击上传")]),_:1})]),_:1},8,["onUpload"]),[[tt,!1]])]),_:1})}}});export{za as default};
